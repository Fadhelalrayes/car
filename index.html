<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ØªØ°ÙƒØ±ØªÙƒ | Ù‚Ø§Ø±Ù† Ø£Ø³Ø¹Ø§Ø± Ø§Ù„ØªØ°Ø§ÙƒØ±</title>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#f9fafb; --card:#ffffff; --ink:#0f172a; --muted:#6b7280; --line:#e5e7eb;
      --brand:#0ea5e9; --brand-2:#0284c7; --shadow:0 12px 30px rgba(2,132,199,.12);
      --radius:18px; --ring:0 0 0 3px rgba(14,165,233,.25); --accent:#10b981;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--ink);font-family:'Cairo',system-ui,Segoe UI,Roboto,Arial}
    header{background:#fff;border-bottom:1px solid var(--line);position:sticky;top:0;z-index:10}
    .container{max-width:980px;margin:auto;padding:16px}
    .logo{font-weight:900;font-size:28px;color:var(--brand)}
    form.search{display:grid;gap:12px;margin-top:16px}
    .fld{background:var(--card);border:2px solid var(--line);border-radius:18px;padding:14px 16px;box-shadow:0 12px 30px rgba(2,132,199,.12)}
    .fld:focus-within{border-color:var(--brand);box-shadow:0 12px 30px rgba(2,132,199,.12), var(--ring)}
    .lbl{font-size:13px;color:var(--muted);margin-bottom:6px}
    select,input{width:100%;border:0;outline:none;background:transparent;font-size:18px;padding:8px 0;color:var(--ink)}
    input[type=date]{font-size:16px;padding:6px}
    .cta{width:100%;background:linear-gradient(180deg,var(--brand),var(--brand-2));color:#fff;border:0;border-radius:18px;padding:16px;font-weight:900;cursor:pointer;font-size:18px;box-shadow:0 12px 30px rgba(2,132,199,.12)}
    .cta:hover{filter:brightness(.98)}
    .card{margin:14px 0;background:#fff;border:1px solid var(--line);border-radius:18px;padding:14px}
    .meta{color:#6b7280;font-size:13px}
    .link{display:inline-block;margin-top:8px;background:var(--accent);color:#062a24;padding:10px 12px;border-radius:12px;font-weight:900;text-decoration:none}
  </style>
</head>
<body>
  <header>
    <div class="container">
      <div class="logo">âœˆï¸ ØªØ°ÙƒØ±ØªÙƒ</div>

      <form class="search" onsubmit="event.preventDefault(); openSelected();">
        <!-- Ù…Ù† -->
        <div class="fld">
          <div class="lbl">ğŸ›« Ù…Ù†</div>
          <select id="origin">
            <optgroup label="Ø§Ù„Ø¯ÙˆÙ„ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©">
              <option value="CAI">Ù…ØµØ± - Ø§Ù„Ù‚Ø§Ù‡Ø±Ø© (CAI)</option>
              <option value="RUH">Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© - Ø§Ù„Ø±ÙŠØ§Ø¶ (RUH)</option>
              <option value="JED">Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© - Ø¬Ø¯Ø© (JED)</option>
              <option value="DMM">Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© - Ø§Ù„Ø¯Ù…Ø§Ù… (DMM)</option>
              <option value="DXB">Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª - Ø¯Ø¨ÙŠ (DXB)</option>
              <option value="AUH">Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª - Ø£Ø¨ÙˆØ¸Ø¨ÙŠ (AUH)</option>
              <option value="SHJ">Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª - Ø§Ù„Ø´Ø§Ø±Ù‚Ø© (SHJ)</option>
              <option value="DOH">Ù‚Ø·Ø± - Ø§Ù„Ø¯ÙˆØ­Ø© (DOH)</option>
              <option value="KWI">Ø§Ù„ÙƒÙˆÙŠØª - Ø§Ù„ÙƒÙˆÙŠØª (KWI)</option>
              <option value="MCT">Ø¹ÙÙ…Ø§Ù† - Ù…Ø³Ù‚Ø· (MCT)</option>
              <option value="BAH" selected>Ø§Ù„Ø¨Ø­Ø±ÙŠÙ† - Ø§Ù„Ù…Ù†Ø§Ù…Ø© (BAH)</option>
              <option value="AMM">Ø§Ù„Ø£Ø±Ø¯Ù† - Ø¹Ù…Ù‘Ø§Ù† (AMM)</option>
              <option value="BEY">Ù„Ø¨Ù†Ø§Ù† - Ø¨ÙŠØ±ÙˆØª (BEY)</option>
              <option value="CMN">Ø§Ù„Ù…ØºØ±Ø¨ - Ø§Ù„Ø¯Ø§Ø± Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡ (CMN)</option>
              <option value="ALG">Ø§Ù„Ø¬Ø²Ø§Ø¦Ø± - Ø§Ù„Ø¬Ø²Ø§Ø¦Ø± (ALG)</option>
              <option value="TUN">ØªÙˆÙ†Ø³ - ØªÙˆÙ†Ø³ (TUN)</option>
              <option value="MJI">Ù„ÙŠØ¨ÙŠØ§ - Ø·Ø±Ø§Ø¨Ù„Ø³ (MJI)</option>
              <option value="KRT">Ø§Ù„Ø³ÙˆØ¯Ø§Ù† - Ø§Ù„Ø®Ø±Ø·ÙˆÙ… (KRT)</option>
              <option value="SAH">Ø§Ù„ÙŠÙ…Ù† - ØµÙ†Ø¹Ø§Ø¡ (SAH)</option>
              <option value="DAM">Ø³ÙˆØ±ÙŠØ§ - Ø¯Ù…Ø´Ù‚ (DAM)</option>
              <option value="BGW">Ø§Ù„Ø¹Ø±Ø§Ù‚ - Ø¨ØºØ¯Ø§Ø¯ (BGW)</option>
              <option value="NKC">Ù…ÙˆØ±ÙŠØªØ§Ù†ÙŠØ§ - Ù†ÙˆØ§ÙƒØ´ÙˆØ· (NKC)</option>
            </optgroup>
            <optgroup label="ÙˆØ¬Ù‡Ø§Øª Ø³ÙŠØ§Ø­ÙŠØ© Ø£Ø¬Ù†Ø¨ÙŠØ©">
              <option value="IST">ØªØ±ÙƒÙŠØ§ - Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„ (IST)</option>
              <option value="TZX">ØªØ±ÙƒÙŠØ§ - Ø·Ø±Ø§Ø¨Ø²ÙˆÙ† (TZX)</option>
              <option value="AYT">ØªØ±ÙƒÙŠØ§ - Ø£Ù†Ø·Ø§Ù„ÙŠØ§ (AYT)</option>
              <option value="CDG">ÙØ±Ù†Ø³Ø§ - Ø¨Ø§Ø±ÙŠØ³ (CDG)</option>
              <option value="LHR">Ø¨Ø±ÙŠØ·Ø§Ù†ÙŠØ§ - Ù„Ù†Ø¯Ù† (LHR)</option>
              <option value="MXP">Ø¥ÙŠØ·Ø§Ù„ÙŠØ§ - Ù…ÙŠÙ„Ø§Ù†Ùˆ (MXP)</option>
              <option value="FCO">Ø¥ÙŠØ·Ø§Ù„ÙŠØ§ - Ø±ÙˆÙ…Ø§ (FCO)</option>
              <option value="ATH">Ø§Ù„ÙŠÙˆÙ†Ø§Ù† - Ø£Ø«ÙŠÙ†Ø§ (ATH)</option>
              <option value="BCN">Ø¥Ø³Ø¨Ø§Ù†ÙŠØ§ - Ø¨Ø±Ø´Ù„ÙˆÙ†Ø© (BCN)</option>
              <option value="MAD">Ø¥Ø³Ø¨Ø§Ù†ÙŠØ§ - Ù…Ø¯Ø±ÙŠØ¯ (MAD)</option>
              <option value="GVA">Ø³ÙˆÙŠØ³Ø±Ø§ - Ø¬Ù†ÙŠÙ (GVA)</option>
              <option value="ZRH">Ø³ÙˆÙŠØ³Ø±Ø§ - Ø²ÙŠÙˆØ±Ø® (ZRH)</option>
              <option value="AMS">Ù‡ÙˆÙ„Ù†Ø¯Ø§ - Ø£Ù…Ø³ØªØ±Ø¯Ø§Ù… (AMS)</option>
              <option value="FRA">Ø£Ù„Ù…Ø§Ù†ÙŠØ§ - ÙØ±Ø§Ù†ÙƒÙÙˆØ±Øª (FRA)</option>
              <option value="MUC">Ø£Ù„Ù…Ø§Ù†ÙŠØ§ - Ù…ÙŠÙˆÙ†Ø® (MUC)</option>
              <option value="VIE">Ø§Ù„Ù†Ù…Ø³Ø§ - ÙÙŠÙŠÙ†Ø§ (VIE)</option>
              <option value="PRG">ØªØ´ÙŠÙƒ - Ø¨Ø±Ø§Øº (PRG)</option>
              <option value="BUD">Ø§Ù„Ù…Ø¬Ø± - Ø¨ÙˆØ¯Ø§Ø¨Ø³Øª (BUD)</option>
              <option value="TBS">Ø¬ÙˆØ±Ø¬ÙŠØ§ - ØªØ¨Ù„ÙŠØ³ÙŠ (TBS)</option>
              <option value="BUS">Ø¬ÙˆØ±Ø¬ÙŠØ§ - Ø¨Ø§ØªÙˆÙ…ÙŠ (BUS)</option>
              <option value="GYD">Ø£Ø°Ø±Ø¨ÙŠØ¬Ø§Ù† - Ø¨Ø§ÙƒÙˆ (GYD)</option>
              <option value="MLE">Ø§Ù„Ù…Ø§Ù„Ø¯ÙŠÙ - Ù…Ø§Ù„ÙŠÙ‡ (MLE)</option>
              <option value="BKK">ØªØ§ÙŠÙ„Ø§Ù†Ø¯ - Ø¨Ø§Ù†ÙƒÙˆÙƒ (BKK)</option>
              <option value="KUL">Ù…Ø§Ù„ÙŠØ²ÙŠØ§ - ÙƒÙˆØ§Ù„Ø§Ù„Ù…Ø¨ÙˆØ± (KUL)</option>
              <option value="SIN">Ø³Ù†ØºØ§ÙÙˆØ±Ø© (SIN)</option>
            </optgroup>
          </select>
        </div>

        <!-- Ø¥Ù„Ù‰ -->
        <div class="fld">
          <div class="lbl">ğŸ›¬ Ø¥Ù„Ù‰</div>
          <select id="destination">
            <optgroup label="Ø§Ù„Ø¯ÙˆÙ„ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©">
              <option value="CAI" selected>Ù…ØµØ± - Ø§Ù„Ù‚Ø§Ù‡Ø±Ø© (CAI)</option>
              <option value="RUH">Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© - Ø§Ù„Ø±ÙŠØ§Ø¶ (RUH)</option>
              <option value="JED">Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© - Ø¬Ø¯Ø© (JED)</option>
              <option value="DMM">Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© - Ø§Ù„Ø¯Ù…Ø§Ù… (DMM)</option>
              <option value="DXB">Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª - Ø¯Ø¨ÙŠ (DXB)</option>
              <option value="AUH">Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª - Ø£Ø¨ÙˆØ¸Ø¨ÙŠ (AUH)</option>
              <option value="SHJ">Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª - Ø§Ù„Ø´Ø§Ø±Ù‚Ø© (SHJ)</option>
              <option value="DOH">Ù‚Ø·Ø± - Ø§Ù„Ø¯ÙˆØ­Ø© (DOH)</option>
              <option value="KWI">Ø§Ù„ÙƒÙˆÙŠØª - Ø§Ù„ÙƒÙˆÙŠØª (KWI)</option>
              <option value="MCT">Ø¹ÙÙ…Ø§Ù† - Ù…Ø³Ù‚Ø· (MCT)</option>
              <option value="BAH">Ø§Ù„Ø¨Ø­Ø±ÙŠÙ† - Ø§Ù„Ù…Ù†Ø§Ù…Ø© (BAH)</option>
              <option value="AMM">Ø§Ù„Ø£Ø±Ø¯Ù† - Ø¹Ù…Ù‘Ø§Ù† (AMM)</option>
              <option value="BEY">Ù„Ø¨Ù†Ø§Ù† - Ø¨ÙŠØ±ÙˆØª (BEY)</option>
              <option value="CMN">Ø§Ù„Ù…ØºØ±Ø¨ - Ø§Ù„Ø¯Ø§Ø± Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡ (CMN)</option>
              <option value="ALG">Ø§Ù„Ø¬Ø²Ø§Ø¦Ø± - Ø§Ù„Ø¬Ø²Ø§Ø¦Ø± (ALG)</option>
              <option value="TUN">ØªÙˆÙ†Ø³ - ØªÙˆÙ†Ø³ (TUN)</option>
              <option value="MJI">Ù„ÙŠØ¨ÙŠØ§ - Ø·Ø±Ø§Ø¨Ù„Ø³ (MJI)</option>
              <option value="KRT">Ø§Ù„Ø³ÙˆØ¯Ø§Ù† - Ø§Ù„Ø®Ø±Ø·ÙˆÙ… (KRT)</option>
              <option value="SAH">Ø§Ù„ÙŠÙ…Ù† - ØµÙ†Ø¹Ø§Ø¡ (SAH)</option>
              <option value="DAM">Ø³ÙˆØ±ÙŠØ§ - Ø¯Ù…Ø´Ù‚ (DAM)</option>
              <option value="BGW">Ø§Ù„Ø¹Ø±Ø§Ù‚ - Ø¨ØºØ¯Ø§Ø¯ (BGW)</option>
              <option value="NKC">Ù…ÙˆØ±ÙŠØªØ§Ù†ÙŠØ§ - Ù†ÙˆØ§ÙƒØ´ÙˆØ· (NKC)</option>
            </optgroup>
            <optgroup label="ÙˆØ¬Ù‡Ø§Øª Ø³ÙŠØ§Ø­ÙŠØ© Ø£Ø¬Ù†Ø¨ÙŠØ©">
              <option value="IST">ØªØ±ÙƒÙŠØ§ - Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„ (IST)</option>
              <option value="TZX">ØªØ±ÙƒÙŠØ§ - Ø·Ø±Ø§Ø¨Ø²ÙˆÙ† (TZX)</option>
              <option value="AYT">ØªØ±ÙƒÙŠØ§ - Ø£Ù†Ø·Ø§Ù„ÙŠØ§ (AYT)</option>
              <option value="CDG">ÙØ±Ù†Ø³Ø§ - Ø¨Ø§Ø±ÙŠØ³ (CDG)</option>
              <option value="LHR">Ø¨Ø±ÙŠØ·Ø§Ù†ÙŠØ§ - Ù„Ù†Ø¯Ù† (LHR)</option>
              <option value="MXP">Ø¥ÙŠØ·Ø§Ù„ÙŠØ§ - Ù…ÙŠÙ„Ø§Ù†Ùˆ (MXP)</option>
              <option value="FCO">Ø¥ÙŠØ·Ø§Ù„ÙŠØ§ - Ø±ÙˆÙ…Ø§ (FCO)</option>
              <option value="ATH">Ø§Ù„ÙŠÙˆÙ†Ø§Ù† - Ø£Ø«ÙŠÙ†Ø§ (ATH)</option>
              <option value="BCN">Ø¥Ø³Ø¨Ø§Ù†ÙŠØ§ - Ø¨Ø±Ø´Ù„ÙˆÙ†Ø© (BCN)</option>
              <option value="MAD">Ø¥Ø³Ø¨Ø§Ù†ÙŠØ§ - Ù…Ø¯Ø±ÙŠØ¯ (MAD)</option>
              <option value="GVA">Ø³ÙˆÙŠØ³Ø±Ø§ - Ø¬Ù†ÙŠÙ (GVA)</option>
              <option value="ZRH">Ø³ÙˆÙŠØ³Ø±Ø§ - Ø²ÙŠÙˆØ±Ø® (ZRH)</option>
              <option value="AMS">Ù‡ÙˆÙ„Ù†Ø¯Ø§ - Ø£Ù…Ø³ØªØ±Ø¯Ø§Ù… (AMS)</option>
              <option value="FRA">Ø£Ù„Ù…Ø§Ù†ÙŠØ§ - ÙØ±Ø§Ù†ÙƒÙÙˆØ±Øª (FRA)</option>
              <option value="MUC">Ø£Ù„Ù…Ø§Ù†ÙŠØ§ - Ù…ÙŠÙˆÙ†Ø® (MUC)</option>
              <option value="VIE">Ø§Ù„Ù†Ù…Ø³Ø§ - ÙÙŠÙŠÙ†Ø§ (VIE)</option>
              <option value="PRG">ØªØ´ÙŠÙƒ - Ø¨Ø±Ø§Øº (PRG)</option>
              <option value="BUD">Ø§Ù„Ù…Ø¬Ø± - Ø¨ÙˆØ¯Ø§Ø¨Ø³Øª (BUD)</option>
              <option value="TBS">Ø¬ÙˆØ±Ø¬ÙŠØ§ - ØªØ¨Ù„ÙŠØ³ÙŠ (TBS)</option>
              <option value="BUS">Ø¬ÙˆØ±Ø¬ÙŠØ§ - Ø¨Ø§ØªÙˆÙ…ÙŠ (BUS)</option>
              <option value="GYD">Ø£Ø°Ø±Ø¨ÙŠØ¬Ø§Ù† - Ø¨Ø§ÙƒÙˆ (GYD)</option>
              <option value="MLE">Ø§Ù„Ù…Ø§Ù„Ø¯ÙŠÙ - Ù…Ø§Ù„ÙŠÙ‡ (MLE)</option>
              <option value="BKK">ØªØ§ÙŠÙ„Ø§Ù†Ø¯ - Ø¨Ø§Ù†ÙƒÙˆÙƒ (BKK)</option>
              <option value="KUL">Ù…Ø§Ù„ÙŠØ²ÙŠØ§ - ÙƒÙˆØ§Ù„Ø§Ù„Ù…Ø¨ÙˆØ± (KUL)</option>
              <option value="SIN">Ø³Ù†ØºØ§ÙÙˆØ±Ø© (SIN)</option>
            </optgroup>
          </select>
        </div>

        <!-- Ø§Ù„ØªÙˆØ§Ø±ÙŠØ® -->
        <div class="fld">
          <div class="lbl">ğŸ“… ØªØ§Ø±ÙŠØ® Ø§Ù„Ø°Ù‡Ø§Ø¨</div>
          <input id="dep" type="date">
        </div>
        <div class="fld">
          <div class="lbl">â†©ï¸ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¹ÙˆØ¯Ø©</div>
          <input id="ret" type="date">
        </div>

        <!-- Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø³Ø§ÙØ±ÙŠÙ† -->
        <div class="fld">
          <div class="lbl">ğŸ‘¥ Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø³Ø§ÙØ±ÙŠÙ†</div>
          <input id="pax" type="number" min="1" value="1">
        </div>

        <!-- Ø§Ù„Ø¯Ø±Ø¬Ø© -->
        <div class="fld">
          <div class="lbl">ğŸ’º Ø§Ù„Ø¯Ø±Ø¬Ø©</div>
          <select id="cabin">
            <option value="economy" selected>Ø§Ù‚ØªØµØ§Ø¯ÙŠØ©</option>
            <option value="business">Ø£Ø¹Ù…Ø§Ù„</option>
            <option value="first">Ø£ÙˆÙ„Ù‰</option>
          </select>
        </div>

        <!-- Ø§Ù„Ù…ÙˆÙ‚Ø¹ -->
        <div class="fld">
          <div class="lbl">ğŸŒ Ø§Ù„Ù…ÙˆÙ‚Ø¹</div>
          <select id="provider">
            <option value="google" selected>Google Flights</option>
            <option value="skyscanner">Skyscanner</option>
            <option value="kayak">KAYAK</option>
            <option value="wego">Wego</option>
            <option value="kiwi">Kiwi.com</option>
            <option value="expedia">Expedia</option>
          </select>
        </div>

        <button class="cta" type="submit">ğŸ” Ø§Ø¨Ø­Ø«</button>
      </form>

      <div id="openInfo" class="card" style="display:none">
        <div class="meta" id="openSummary">â€”</div>
        <a class="link" id="openLink" target="_blank" rel="noopener">Ø§ÙØªØ­ Ø§Ù„Ø±Ø§Ø¨Ø· ÙŠØ¯ÙˆÙŠÙ‹Ø§</a>
      </div>
    </div>
  </header>

  <script>
    function ymd(d){ return d ? d : ""; }                   // 2025-09-03
    function ymdCompact(d){ return d ? d.replace(/-/g,"") : ""; } // 20250903

    function kayakCabin(c){ return {economy:'e', business:'b', first:'f'}[c] || 'e'; }

    function buildURL(provider, o, d, dep, ret, pax, cabin){
      const depYMD = ymd(dep), retYMD = ymd(ret);
      const depK   = depYMD;
      const retK   = retYMD;
      const depSC  = ymdCompact(dep);
      const retSC  = ymdCompact(ret);

      switch(provider){
        case 'google': {
          let q = `flights from ${o} to ${d}`;
          if(depYMD) q += ` ${depYMD}`;
          if(retYMD) q += ` return ${retYMD}`;
          q += ` ${pax} adult ${cabin}`;
          return `https://www.google.com/travel/flights?hl=ar&q=${encodeURIComponent(q)}`;
        }
        case 'kayak': {
          // https://www.kayak.ae/flights/BAH-CAI/2025-09-11/2025-09-30?adults=1&cabin=e
          let base = `https://www.kayak.ae/flights/${o}-${d}`;
          if(depK) base += `/${depK}`;
          if(retK) base += `/${retK}`;
          return `${base}?adults=${encodeURIComponent(pax)}&cabin=${encodeURIComponent(kayakCabin(cabin))}&sort=price_a&lang=ar`;
        }
        case 'kiwi': {
          // https://www.kiwi.com/ar/search/results/BAH/CAI/2025-09-11/2025-09-30/?adults=1&cabinClass=economy
          let base = `https://www.kiwi.com/ar/search/results/${o}/${d}`;
          if(depYMD) base += `/${depYMD}`;
          if(retYMD) base += `/${retYMD}`;
          const tail = `?adults=${encodeURIComponent(pax)}&cabinClass=${encodeURIComponent(cabin)}`;
          return base + "/" + (base.endsWith("/") ? "" : "") + tail;
        }
        case 'expedia': {
          const base = 'https://www.expedia.com/Flights-Search';
          if(depYMD && retYMD){
            return `${base}?trip=roundtrip&leg1=from:${o},to:${d},departure:${depYMD}TANYT&leg2=from:${d},to:${o},departure:${retYMD}TANYT&passengers=adults:${pax}&cabinclass=${cabin}&mode=search`;
          }
          if(depYMD){
            return `${base}?trip=oneway&leg1=from:${o},to:${d},departure:${depYMD}TANYT&passengers=adults:${pax}&cabinclass=${cabin}&mode=search`;
          }
          return `${base}?trip=oneway&leg1=from:${o},to:${d}&passengers=adults:${pax}&cabinclass=${cabin}&mode=search`;
        }
        case 'skyscanner': {
          // https://www.skyscanner.net/transport/flights/BAH/CAI/20250911/20250930/?adults=1&cabinclass=economy&locale=ar-SA
          let base = `https://www.skyscanner.net/transport/flights/${o}/${d}`;
          if(depSC) base += `/${depSC}`;
          if(retSC) base += `/${retSC}`;
          return `${base}/?adults=${encodeURIComponent(pax)}&cabinclass=${encodeURIComponent(cabin)}&locale=ar-SA`;
        }
        case 'wego': {
          // https://www.wego.ae/flights/BAH-CAI/2025-09-11/2025-09-30?adults=1&cabin=economy
          let base = `https://www.wego.ae/flights/${o}-${d}`;
          if(depYMD) base += `/${depYMD}`;
          if(retYMD) base += `/${retYMD}`;
          const q = `?adults=${encodeURIComponent(pax)}&cabin=${encodeURIComponent(cabin)}`;
          return base + q;
        }
        default: return '#';
      }
    }

    function openSelected(){
      const o   = document.getElementById('origin').value;
      const d   = document.getElementById('destination').value;
      const p   = document.getElementById('provider').value;
      const dep = document.getElementById('dep').value; // YYYY-MM-DD Ø£Ùˆ ÙØ§Ø±Øº
      const ret = document.getElementById('ret').value; // YYYY-MM-DD Ø£Ùˆ ÙØ§Ø±Øº
      const pax = document.getElementById('pax').value || 1;
      const cabin = document.getElementById('cabin').value;

      if(!o || !d){ alert('Ø§Ø®ØªØ±: Ù…Ù† / Ø¥Ù„Ù‰'); return; }

      const url = buildURL(p, o, d, dep, ret, pax, cabin);

      // Ø§ÙØªØ­ ÙÙŠ ØªØ¨ÙˆÙŠØ¨ Ø¬Ø¯ÙŠØ¯ + Ø±Ø§Ø¨Ø· Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ø¥Ø°Ø§ ØªÙ… Ù…Ù†Ø¹ Ø§Ù„Ù†ÙˆØ§ÙØ° Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø©
      const win = window.open(url, '_blank', 'noopener');

      const info = document.getElementById('openInfo');
      const link = document.getElementById('openLink');
      const sum  = document.getElementById('openSummary');
      info.style.display='block';
      sum.textContent = `Ø§Ù„Ù…Ø³Ø§Ø±: ${o} â†’ ${d} â€” ${pax} Ø±Ø§ÙƒØ¨ â€” ${cabin}`
        + (dep? ` â€” Ø°Ù‡Ø§Ø¨: ${dep}`:'') + (ret? ` â€” Ø¹ÙˆØ¯Ø©: ${ret}`:'');
      link.href = url;

      if(!win){ alert('Ø¥Ø°Ø§ Ù„Ù… ÙŠÙÙØªØ­ Ø§Ù„Ø±Ø§Ø¨Ø· ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ØŒ Ø§Ø¶ØºØ· "Ø§ÙØªØ­ Ø§Ù„Ø±Ø§Ø¨Ø· ÙŠØ¯ÙˆÙŠÙ‹Ø§".'); }
    }
  </script>
</body>
</html>
