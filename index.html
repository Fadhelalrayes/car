<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ù…ÙˆÙ„Ù‘Ø¯ Ø®Ø·Ø§Ø¨ Ø§Ø­ØªØ±Ø§ÙÙŠ</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;800&display=swap" rel="stylesheet">
<style>
  :root{
    --gold:#C6A14A;     /* Ø§Ù„Ø°Ù‡Ø¨ÙŠ */
    --black:#0f172a;    /* Ø§Ù„Ø£Ø³ÙˆØ¯ */
    --white:#ffffff;    /* Ø§Ù„Ø£Ø¨ÙŠØ¶ */
    --muted:#6b7280;
    --paper:#fff;
    --bg:#ffffff;       /* Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ø¨ÙŠØ¶Ø§Ø¡ */
    --stamp-ink:#111827;
  }
  *{box-sizing:border-box; -webkit-print-color-adjust:exact; print-color-adjust:exact}
  html,body{height:100%}
  body{
    margin:0; background:var(--bg); color:var(--black);
    font-family:"Cairo", system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    line-height:1.6;
  }

  /* ØªØ®Ø·ÙŠØ· Ù…Ø¨Ø³Ù‘Ø· */
  .wrap{max-width:1100px; margin-inline:auto; padding:16px; display:grid; gap:16px; grid-template-columns:1fr 1.5fr}
  @media (max-width:980px){ .wrap{grid-template-columns:1fr} }

  .card{
    background:var(--white); border:1px solid #eee; border-radius:14px;
    box-shadow:0 8px 24px rgba(0,0,0,.05); overflow:hidden;
  }
  .hd{padding:12px 14px; background:linear-gradient(90deg,var(--black),#1f2937); color:#fff; font-weight:800; letter-spacing:.2px}
  .bd{padding:14px}

  /* Ù†Ù…ÙˆØ°Ø¬ ØµØºÙŠØ± ÙˆÙˆØ§Ø¶Ø­ */
  .grid{display:grid; gap:10px}
  .g2{grid-template-columns:1fr 1fr}
  .g4{grid-template-columns:1fr 1fr 1fr 1fr}
  @media (max-width:640px){ .g2,.g4{grid-template-columns:1fr} }

  label{font-size:13px; color:var(--muted); margin-bottom:6px; display:block}
  .field{display:grid}
  input,select,textarea{
    width:100%; padding:10px 12px; border:1px solid #e5e7eb; border-radius:10px; background:#fff; font-size:14px
  }
  textarea{min-height:130px; resize:vertical}

  .row{display:flex; gap:8px; flex-wrap:wrap}
  .btn{border:0; border-radius:999px; padding:10px 16px; font-weight:700; cursor:pointer}
  .btn.primary{background:var(--gold); color:#000; box-shadow:0 8px 18px rgba(198,161,74,.25)}
  .btn.ghost{background:#f3f4f6; color:#111}
  .btn.dark{background:var(--black); color:#fff}

  /* Ù…Ø±Ø¨Ø¹ Ù…Ù†ØµØ© ØµØºÙŠØ± */
  .soc-field{display:flex; align-items:center; gap:8px}
  .soc-icon{
    width:32px; height:32px; border-radius:8px; display:grid; place-items:center;
    background:#f6f7f9; border:1px solid #e5e7eb
  }
  .soc-icon svg{width:16px; height:16px}

  /* Ø§Ù„ØµÙØ­Ø© A4 */
  .page-wrap{padding:8px}
  .page{
    width:210mm; min-height:297mm; margin-inline:auto; background:var(--paper); color:var(--black);
    border:1px solid #eee; border-radius:16px; position:relative; overflow:hidden;
    box-shadow:0 18px 48px rgba(0,0,0,.07)
  }
  @media (max-width:820px){ .page{width:100%; min-height:auto} }

  /* Ø§Ù„Ù‡ÙŠØ¯Ø± (Ø°Ù‡Ø¨ÙŠ/Ø£Ø³ÙˆØ¯) */
  .lh{
    background:linear-gradient(90deg, var(--black), #111827);
    color:#fff; padding:18px 20px; display:flex; align-items:center; justify-content:space-between;
  }
  .brand{display:flex; align-items:center; gap:10px}
  .logo{
    width:40px; height:40px; border-radius:10px;
    background:linear-gradient(135deg, var(--gold), #e6cf85);
    color:#000; display:grid; place-items:center; font-weight:800
  }
  .brand-name{font-weight:800}
  .contact{font-size:12px; text-align:left; direction:ltr; opacity:.95}

  .gold-bar{
    height:6px; background:linear-gradient(90deg, #e6cf85, var(--gold), #a98526)
  }

  /* Ø§Ù„Ø¬Ø³Ù… */
  .doc{padding:20px; display:flex; flex-direction:column; gap:12px}
  .meta{font-size:12px; color:#6b7280; display:flex; justify-content:space-between; gap:10px; border-bottom:1px dashed #e5e7eb; padding-bottom:8px}
  .title{margin:6px auto 0; text-align:center; font-size:26px; font-weight:800; letter-spacing:.2px}
  .content{font-size:15px; text-align:justify; text-justify:inter-word}

  /* Ø¨Ø§Ø¯Ø¬Ø§Øª Ø§Ù„Ù…Ù†ØµØ§Øª Ù„Ù„Ø´Ø§Ø´Ø© */
  .social{margin-top:auto; border-top:1px dashed #e5e7eb; padding-top:10px; display:flex; gap:8px; flex-wrap:wrap}
  .badge{display:inline-flex; align-items:center; gap:6px; border:1px solid #e5e7eb; padding:4px 8px; border-radius:999px; background:#fff; font-size:12px}
  .badge svg{width:12px; height:12px}

  /* Ø®ØªÙ… ÙˆØ§Ù‚Ø¹ÙŠ */
  .stamp-area{margin-top:16px; display:flex; gap:12px; align-items:flex-start; flex-wrap:wrap}
  .stamp-box{
    position:relative; width:70mm; min-height:28mm; padding:10px 12px; border-radius:10px;
    border:2.5px solid var(--stamp-ink); color:var(--stamp-ink);
    background:
      radial-gradient(circle at 30% 30%, rgba(0,0,0,.03), transparent 45%),
      repeating-linear-gradient(0deg, rgba(0,0,0,.02), rgba(0,0,0,.02) 2px, transparent 2px, transparent 4px);
    box-shadow: inset 0 0 0 1.5px rgba(255,255,255,.65), 0 6px 18px rgba(0,0,0,.06);
    transform: rotate(-1.2deg); opacity:.93; filter:saturate(1.05) contrast(1.02)
  }
  .stamp-box::before{content:"Ø®ØªÙ…"; position:absolute; top:-11px; right:10px; background:#fff; color:#6b7280; padding:0 6px; font-size:12px}
  .stamp-name{font-weight:800; font-size:14px}
  .stamp-line{font-size:12px; direction:ltr; text-align:left}
  .stamp-img{display:none; width:70mm; height:auto; border-radius:10px; transform:rotate(-1.2deg); filter:contrast(1.05) saturate(1.05) drop-shadow(0 6px 18px rgba(0,0,0,.06))}

  .ft{background:#0b0f19; color:#fff; padding:10px 14px; font-size:12px; display:flex; justify-content:space-between; align-items:center}
  .ft .brand-mini{font-weight:700}
  .print-icons{display:none; gap:8px; align-items:center}
  .print-icons .pi{display:flex; align-items:center; gap:4px}
  .print-icons svg{width:11px; height:11px}

  /* Ø´Ø±ÙŠØ· Ø¨Ø³ÙŠØ· */
  .toolbar{display:flex; gap:8px; justify-content:center; padding:10px}

  /* Ø·Ø¨Ø§Ø¹Ø© */
  @page{size:A4; margin:12mm}
  @media print{
    body{background:#fff}
    .wrap{display:block; padding:0; margin:0}
    .card,.toolbar{display:none !important}
    .page{border:none; border-radius:0; box-shadow:none}
    .social{display:none}              /* Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¨Ø§Ø¯Ø¬Ø§Øª Ø§Ù„Ù†ØµÙŠØ© */
    .print-icons{
      display:flex !important;         /* Ø¥Ø¸Ù‡Ø§Ø± Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª ØµØºÙŠØ±Ø© + Ø§Ù„Ø§Ø³Ù… Ø£Ø³ÙÙ„ ÙŠØ³Ø§Ø± */
      position:absolute; left:12mm; bottom:10mm; background:transparent
    }
  }
</style>
</head>
<body>
  <div class="wrap">
    <!-- Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…Ø¨Ø³Ù‘Ø· -->
    <section class="card" id="formCard">
      <div class="hd">Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø³Ø±ÙŠØ¹Ø©</div>
      <div class="bd">
        <div class="grid">
          <div class="field">
            <label>Ø§Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ©</label>
            <input id="company" type="text" placeholder="Ù…Ø«Ø§Ù„: Ø´Ø±ÙƒØ© Ø§Ù„Ø£ÙÙ‚ Ù„Ù„ØªØ¬Ø§Ø±Ø©" />
          </div>

          <!-- Ø±Ù‚Ù… Ø§Ù„Ø§ØªØµØ§Ù„ Ù…Ø¹ ÙƒÙˆØ¯ Ø§Ù„Ø¯ÙˆÙ„Ø© -->
          <div class="grid g2">
            <div class="field">
              <label>Ø§Ù„Ø¯ÙˆÙ„Ø© (ÙƒÙˆØ¯ ÙØªØ­)</label>
              <select id="countryCode">
                <option value="+973">ğŸ‡§ğŸ‡­ Ø§Ù„Ø¨Ø­Ø±ÙŠÙ† (+973)</option>
                <option value="+966">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© (+966)</option>
                <option value="+971">ğŸ‡¦ğŸ‡ª Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª (+971)</option>
                <option value="+965">ğŸ‡°ğŸ‡¼ Ø§Ù„ÙƒÙˆÙŠØª (+965)</option>
                <option value="+974">ğŸ‡¶ğŸ‡¦ Ù‚Ø·Ø± (+974)</option>
                <option value="+968">ğŸ‡´ğŸ‡² Ø¹ÙÙ…Ø§Ù† (+968)</option>
                <option value="+964">ğŸ‡®ğŸ‡¶ Ø§Ù„Ø¹Ø±Ø§Ù‚ (+964)</option>
                <option value="+962">ğŸ‡¯ğŸ‡´ Ø§Ù„Ø£Ø±Ø¯Ù† (+962)</option>
                <option value="+20">ğŸ‡ªğŸ‡¬ Ù…ØµØ± (+20)</option>
              </select>
            </div>
            <div class="field">
              <label>Ø±Ù‚Ù… Ø§Ù„Ø§ØªØµØ§Ù„</label>
              <input id="phone" type="tel" placeholder="Ù…Ø«Ø§Ù„: 3333 3333" />
            </div>
          </div>

          <div class="grid g2">
            <div class="field">
              <label>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
              <input id="email" type="email" placeholder="name@example.com" />
            </div>
            <div class="field">
              <label>Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø±Ø³Ø§Ù„Ø© (ÙŠØªÙˆØ³Ø· Ø§Ù„ØµÙØ­Ø©)</label>
              <input id="title" type="text" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø±Ø³Ø§Ù„Ø©" />
            </div>
          </div>

          <div class="field">
            <label>Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø³Ø§Ù„Ø© (Ù…Ø­Ø§Ø°Ø§Ø© Ø§Ù„Ø£Ø·Ø±Ø§Ù)</label>
            <textarea id="content" placeholder="Ø§ÙƒØªØ¨ Ù†Øµ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù‡Ù†Ø§..."></textarea>
          </div>

          <!-- Ù…Ù†ØµØ§Øª Ù…Ø­Ø¯Ø¯Ø© ÙƒÙ…Ø±Ø¨Ø¹Ø§Øª ØµØºÙŠØ±Ø© -->
          <div class="grid g4">
            <div class="field">
              <label>Instagram</label>
              <div class="soc-field">
                <span class="soc-icon" title="Instagram">
                  <!-- IG -->
                  <svg viewBox="0 0 24 24" fill="#E1306C"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5Zm5 5a5 5 0 1 0 .001 10.001A5 5 0 0 0 12 7Zm6.5-.9a1.1 1.1 0 1 0 0 2.2 1.1 1.1 0 0 0 0-2.2Z"/><circle cx="12" cy="12" r="3.3"/></svg>
                </span>
                <input id="ig" type="text" placeholder="@brand" />
              </div>
            </div>
            <div class="field">
              <label>Twitter / X</label>
              <div class="soc-field">
                <span class="soc-icon" title="Twitter">
                  <!-- X -->
                  <svg viewBox="0 0 24 24" fill="#000"><path d="M13.7 10.6 21 2h-1.7l-6.2 7.4L8.2 2H2l7.6 11L2 22h1.7l6.6-7.8L15.8 22H22l-8.3-11.4Z"/></svg>
                </span>
                <input id="tw" type="text" placeholder="@brand" />
              </div>
            </div>
            <div class="field">
              <label>Facebook</label>
              <div class="soc-field">
                <span class="soc-icon" title="Facebook">
                  <!-- FB -->
                  <svg viewBox="0 0 24 24" fill="#1877F2"><path d="M22 12a10 10 0 1 0-11.6 9.9v-7H7.7V12h2.7V9.7c0-2.7 1.6-4.2 4-4.2 1.2 0 2.4.2 2.4.2v2.6h-1.4c-1.3 0-1.7.8-1.7 1.6V12h2.9l-.46 2.9h-2.4v7A10 10 0 0 0 22 12"/></svg>
                </span>
                <input id="fb" type="text" placeholder="/brand" />
              </div>
            </div>
            <div class="field">
              <label>LinkedIn</label>
              <div class="soc-field">
                <span class="soc-icon" title="LinkedIn">
                  <!-- IN -->
                  <svg viewBox="0 0 24 24" fill="#0A66C2"><path d="M4.98 3.5a2.5 2.5 0 1 1 0 5.001 2.5 2.5 0 0 1 0-5zM3 9h4v12H3zM9 9h3.8v1.6h.1c.5-.9 1.8-1.9 3.7-1.9 4 0 4.8 2.6 4.8 6v6H17v-5.3c0-1.3 0-3-1.9-3s-2.2 1.4-2.2 2.9V21H9z"/></svg>
                </span>
                <input id="in" type="text" placeholder="/company/brand" />
              </div>
            </div>
          </div>

          <!-- Ø®ØªÙ… -->
          <div class="grid g2">
            <div class="field">
              <label>Ø§Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ© (Ù„Ù„Ø®ØªÙ…)</label>
              <input id="stampName" type="text" placeholder="Ø§Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ©" />
            </div>
            <div class="field">
              <label>Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„ØªØ¬Ø§Ø±ÙŠ</label>
              <input id="cr" type="text" placeholder="CR / Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„ØªØ¬Ø§Ø±ÙŠ" />
            </div>
          </div>
          <div class="grid g2">
            <div class="field">
              <label>Ø±Ù‚Ù… Ø§Ù„Ø§ØªØµØ§Ù„ (Ù„Ù„Ø®ØªÙ…)</label>
              <input id="stampPhone" type="tel" placeholder="Ø±Ù‚Ù… Ø§Ù„Ø§ØªØµØ§Ù„" />
            </div>
            <div class="field">
              <label>Ø±ÙØ¹ ØµÙˆØ±Ø© Ø®ØªÙ… (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
              <input id="stampImage" type="file" accept="image/*" />
            </div>
          </div>

          <div class="row">
            <button class="btn primary" id="applyBtn" type="button">ØªØ·Ø¨ÙŠÙ‚</button>
            <button class="btn dark" id="printBtn" type="button">Ø·Ø¨Ø§Ø¹Ø© / Ø­ÙØ¸ PDF</button>
            <button class="btn ghost" id="resetBtn" type="button">Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø·</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© -->
    <section class="card">
      <div class="hd">Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©</div>
      <div class="bd page-wrap">
        <div class="page" id="page">
          <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± -->
          <header class="lh">
            <div class="brand">
              <div class="logo">â˜…</div>
              <div class="brand-name" id="brandName">Ø§Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ©</div>
            </div>
            <div class="contact">
              <div id="emailOut">name@example.com</div>
              <div id="phoneOut">+973 0000 0000</div>
            </div>
          </header>
          <div class="gold-bar"></div>

          <!-- Ø§Ù„Ø¬Ø³Ù… -->
          <main class="doc">
            <div class="meta">
              <div>Ø§Ù„ØªØ§Ø±ÙŠØ®: <span id="today"></span></div>
              <div>Ù…Ø±Ø¬Ø¹: <span id="ref">â€”</span></div>
            </div>

            <h1 class="title" id="titleOut">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø±Ø³Ø§Ù„Ø©</h1>

            <article class="content" id="contentOut">
              Ø§ÙƒØªØ¨ Ù†Øµ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù…Ù† Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø£Ø¹Ù„Ø§Ù‡ØŒ ÙˆØ³ÙŠØ¸Ù‡Ø± Ù‡Ù†Ø§ Ø¨Ù…Ø­Ø§Ø°Ø§Ø© Ø§Ù„Ø£Ø·Ø±Ø§Ù.
            </article>

            <!-- Ø¨Ø§Ø¯Ø¬Ø§Øª Ø§Ù„Ù…Ù†ØµØ§Øª Ù„Ù„Ø´Ø§Ø´Ø© -->
            <div class="social" id="socialBadges"></div>

            <!-- Ø§Ù„Ø®ØªÙ… -->
            <div class="stamp-area">
              <div class="stamp-box" id="stampBox">
                <div class="stamp-name" id="stampNameOut">Ø§Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ©</div>
                <div class="stamp-line" id="crOut">CR: â€”</div>
                <div class="stamp-line" id="stampPhoneOut">Tel: â€”</div>
              </div>
              <img class="stamp-img" id="stampImgOut" alt="ØµÙˆØ±Ø© Ø§Ù„Ø®ØªÙ…" />
            </div>
          </main>

          <footer class="ft">
            <div class="brand-mini">Letterhead â€” Ø£Ø¨ÙŠØ¶/Ø°Ù‡Ø¨ÙŠ/Ø£Ø³ÙˆØ¯</div>
            <div style="direction:ltr;">Â© <span id="year"></span></div>
            <!-- Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© Ø£Ø³ÙÙ„ ÙŠØ³Ø§Ø± -->
            <div class="print-icons" id="printIcons"></div>
          </footer>
        </div>

        <div class="toolbar" id="toolbar" hidden></div>
      </div>
    </section>
  </div>

<script>
  // Ø¹Ù†Ø§ØµØ± Ø¥Ø¯Ø®Ø§Ù„
  const company = document.getElementById('company');
  const email = document.getElementById('email');
  const phone = document.getElementById('phone');
  const countryCode = document.getElementById('countryCode');

  const titleIn = document.getElementById('title');
  const contentIn = document.getElementById('content');

  const ig = document.getElementById('ig');
  const tw = document.getElementById('tw');
  const fb = document.getElementById('fb');
  const ln = document.getElementById('in');

  const stampName = document.getElementById('stampName');
  const cr = document.getElementById('cr');
  const stampPhone = document.getElementById('stampPhone');
  const stampImage = document.getElementById('stampImage');

  // Ø¹Ù†Ø§ØµØ± Ø¥Ø®Ø±Ø§Ø¬
  const brandName = document.getElementById('brandName');
  const emailOut = document.getElementById('emailOut');
  const phoneOut = document.getElementById('phoneOut');

  const titleOut = document.getElementById('titleOut');
  const contentOut = document.getElementById('contentOut');

  const socialBadges = document.getElementById('socialBadges');
  const printIcons = document.getElementById('printIcons');

  const stampBox = document.getElementById('stampBox');
  const stampImgOut = document.getElementById('stampImgOut');
  const stampNameOut = document.getElementById('stampNameOut');
  const crOut = document.getElementById('crOut');
  const stampPhoneOut = document.getElementById('stampPhoneOut');

  // Ø£Ø²Ø±Ø§Ø±
  const applyBtn = document.getElementById('applyBtn');
  const printBtn = document.getElementById('printBtn');
  const resetBtn = document.getElementById('resetBtn');

  // ØªØ§Ø±ÙŠØ®/Ø³Ù†Ø©
  const today = new Date();
  document.getElementById('today').textContent = today.toLocaleDateString('ar-EG');
  document.getElementById('year').textContent = today.getFullYear();

  // Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª SVG
  const icons = {
    ig:'<svg viewBox="0 0 24 24" fill="#E1306C"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5Zm5 5a5 5 0 1 0 .001 10.001A5 5 0 0 0 12 7Zm6.5-.9a1.1 1.1 0 1 0 0 2.2 1.1 1.1 0 0 0 0-2.2Z"/><circle cx="12" cy="12" r="3.3"/></svg>',
    tw:'<svg viewBox="0 0 24 24" fill="#000"><path d="M13.7 10.6 21 2h-1.7l-6.2 7.4L8.2 2H2l7.6 11L2 22h1.7l6.6-7.8L15.8 22H22l-8.3-11.4Z"/></svg>',
    fb:'<svg viewBox="0 0 24 24" fill="#1877F2"><path d="M22 12a10 10 0 1 0-11.6 9.9v-7H7.7V12h2.7V9.7c0-2.7 1.6-4.2 4-4.2 1.2 0 2.4.2 2.4.2v2.6h-1.4c-1.3 0-1.7.8-1.7 1.6V12h2.9l-.46 2.9h-2.4v7A10 10 0 0 0 22 12"/></svg>',
    ln:'<svg viewBox="0 0 24 24" fill="#0A66C2"><path d="M4.98 3.5a2.5 2.5 0 1 1 0 5.001 2.5 2.5 0 0 1 0-5zM3 9h4v12H3zM9 9h3.8v1.6h.1c.5-.9 1.8-1.9 3.7-1.9 4 0 4.8 2.6 4.8 6v6H17v-5.3c0-1.3 0-3-1.9-3s-2.2 1.4-2.2 2.9V21H9z"/></svg>'
  };

  function buildSocial(){
    socialBadges.innerHTML = '';
    printIcons.innerHTML = '';
    const map = [
      {val: ig.value.trim(), key:'ig', label:'Instagram'},
      {val: tw.value.trim(), key:'tw', label:'Twitter'},
      {val: fb.value.trim(), key:'fb', label:'Facebook'},
      {val: ln.value.trim(), key:'ln', label:'LinkedIn'},
    ];

    map.forEach(x=>{
      if(!x.val) return;
      // Ø´Ø§Ø´Ø©: Ø¨Ø§Ø¯Ø¬ Ù…Ø¹ Ø£ÙŠÙ‚ÙˆÙ†Ø© ÙˆØ§Ø³Ù…
      const badge = document.createElement('span');
      badge.className = 'badge';
      badge.innerHTML = icons[x.key] + '<span>'+ x.label + ' ' + x.val + '</span>';
      socialBadges.appendChild(badge);

      // Ø·Ø¨Ø§Ø¹Ø©: Ø£ÙŠÙ‚ÙˆÙ†Ø© ØµØºÙŠØ±Ø© + Ø§Ù„Ø§Ø³Ù… Ø£Ø³ÙÙ„ Ø§Ù„ÙŠØ³Ø§Ø±
      const pi = document.createElement('span');
      pi.className = 'pi';
      pi.innerHTML = icons[x.key] + '<span>'+ x.label + ' ' + x.val + '</span>';
      printIcons.appendChild(pi);
    });
  }

  function fullPhone(){
    const cc = (countryCode.value || '').trim();
    const p = (phone.value || '').trim();
    return (cc && p) ? `${cc} ${p}` : (p || 'â€”');
    }

  function applyChanges(){
    // Ù‡ÙŠØ¯Ø±
    brandName.textContent = company.value || 'Ø§Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ©';
    emailOut.textContent = email.value || 'name@example.com';
    phoneOut.textContent = fullPhone();

    // Ø¹Ù†ÙˆØ§Ù† ÙˆÙ…Ø­ØªÙˆÙ‰
    titleOut.textContent = titleIn.value || 'Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø±Ø³Ø§Ù„Ø©';
    contentOut.textContent = contentIn.value || 'â€”';

    // Ø®ØªÙ…
    stampNameOut.textContent = stampName.value || (company.value || 'Ø§Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ©');
    crOut.textContent = 'CR: ' + (cr.value || 'â€”');
    stampPhoneOut.textContent = 'Tel: ' + (stampPhone.value || phoneOut.textContent || 'â€”');

    // ØµÙˆØ±Ø© Ø®ØªÙ…
    if(stampImage.files && stampImage.files[0]){
      const reader = new FileReader();
      reader.onload = e => {
        stampImgOut.src = e.target.result;
        stampImgOut.style.display = 'block';
        stampBox.style.display = 'none';
      };
      reader.readAsDataURL(stampImage.files[0]);
    }else{
      stampImgOut.style.display = 'none';
      stampBox.style.display = 'block';
    }

    // Ù…Ù†ØµØ§Øª
    buildSocial();
  }

  // ØªØ­Ø¯ÙŠØ« Ù…Ø¨Ø§Ø´Ø±
  [company,email,phone,countryCode,titleIn,contentIn,ig,tw,fb,ln,stampName,cr,stampPhone].forEach(el=>{
    el.addEventListener('input', applyChanges);
  });

  // Ø£Ø²Ø±Ø§Ø±
  document.getElementById('applyBtn').addEventListener('click', applyChanges);
  const doPrint = ()=>{ applyChanges(); setTimeout(()=>window.print(), 50); };
  document.getElementById('printBtn').addEventListener('click', doPrint);
  window.onbeforeprint = applyChanges;

  document.getElementById('resetBtn').addEventListener('click', ()=>{
    document.querySelectorAll('input[type="text"], input[type="email"], input[type="tel"]').forEach(i=>i.value='');
    countryCode.value = '+973';
    applyChanges();
  });

  // ØªÙ‡ÙŠØ¦Ø©
  applyChanges();
</script>
</body>
</html>
