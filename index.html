<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ØªØ°ÙƒØ±ØªÙƒ | Ù‚Ø§Ø±Ù† Ø£Ø³Ø¹Ø§Ø± Ø§Ù„ØªØ°Ø§ÙƒØ±</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800;900&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#f9fafb; --card:#ffffff; --ink:#0f172a; --muted:#6b7280; --line:#e5e7eb;
      --brand:#0ea5e9; --brand-2:#0284c7; --shadow:0 12px 30px rgba(2,132,199,.12);
      --radius:18px; --ring:0 0 0 3px rgba(14,165,233,.25);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:var(--bg);color:var(--ink);font-family:'Cairo',system-ui,Segoe UI,Roboto,Arial}
    header{background:linear-gradient(135deg,#ffffff,#f3f8ff);border-bottom:1px solid var(--line);position:sticky;top:0;z-index:20}
    .container{max-width:980px;margin:0 auto;padding:16px}
    .row{display:flex;gap:12px;align-items:center}
    .logo{width:48px;height:48px;border-radius:14px;display:grid;place-items:center;color:#fff;font-weight:900;box-shadow:var(--shadow);background:linear-gradient(180deg,#60a5fa,#0ea5e9)}
    .brand .title{font-size:26px;font-weight:900;letter-spacing:.3px}
    .brand .tag{color:var(--muted);font-size:13px;margin-top:-4px}

    /* Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø¹Ù…ÙˆØ¯ÙŠ */
    .search{margin-top:14px;display:grid;gap:12px;grid-template-columns:1fr}
    .fld{position:relative;background:var(--card);border:2px solid var(--line);border-radius:18px;padding:14px 16px;box-shadow:var(--shadow)}
    .fld:focus-within{border-color:var(--brand); box-shadow:var(--shadow), var(--ring)}
    .lbl{display:flex;align-items:center;gap:8px;font-size:13px;color:var(--muted)}
    .input{display:flex;align-items:center;gap:8px;margin-top:6px}
    .input input, .input select{width:100%;border:0;outline:none;background:transparent;font-size:18px;padding:10px 2px;color:var(--ink)}
    .cta{width:100%;background:linear-gradient(180deg,var(--brand),var(--brand-2));color:#fff;border:0;border-radius:18px;padding:16px 18px;font-weight:900;cursor:pointer;box-shadow:var(--shadow);font-size:18px}
    .cta:hover{filter:brightness(.98)}

    /* Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø¨Ø³ÙŠØ·Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ Ù„Ù„Ø¹Ø±Ø¶) */
    main{padding:16px 0}
    .card{background:var(--card);border:1px solid var(--line);border-radius:var(--radius);padding:16px;box-shadow:var(--shadow)}
    .meta{color:var(--muted);font-size:12px}
    .link{display:inline-block;margin-top:8px;background:#10b981;color:#062a24;padding:10px 12px;border-radius:12px;font-weight:900;text-decoration:none}

    footer{margin-top:16px;border-top:1px dashed var(--line);padding:14px 0}
    .credit{display:flex;gap:8px;align-items:center;color:var(--muted)}
    .credit a{color:var(--brand-2);font-weight:800;text-decoration:none}
    .credit a:hover{text-decoration:underline}
  </style>
</head>
<body>
  <header>
    <div class="container">
      <div class="row">
        <div class="logo">âœˆï¸</div>
        <div class="brand">
          <div class="title">ØªØ°ÙƒØ±ØªÙƒ</div>
          <div class="tag">Ù…ÙˆØ§Ù‚Ø¹ Ø­Ø¬Ø² Ù…ÙˆØ«ÙˆÙ‚Ø© â€¢ ÙŠÙØªØ­ Ø§Ù„Ø±Ø§Ø¨Ø· Ù…Ø¨Ø§Ø´Ø±Ø© Ø¨Ø¨ÙŠØ§Ù†Ø§ØªÙƒ</div>
        </div>
      </div>

      <!-- Ù…Ù† / Ø¥Ù„Ù‰ / Ø§Ù„Ù…ÙˆÙ‚Ø¹ (Ù‚Ø§Ø¦Ù…Ø© Ù…Ù†Ø³Ø¯Ù„Ø©) / Ø§Ø¨Ø­Ø« -->
      <form id="searchForm" class="search" onsubmit="event.preventDefault(); openSelected();">
        <div class="fld">
          <div class="lbl">ğŸ›« Ù…Ù†</div>
          <div class="input">
            <input id="origin" placeholder="Ø§ÙƒØªØ¨ ÙƒÙˆØ¯ Ø§Ù„Ù…Ø·Ø§Ø± (BAH) Ø£Ùˆ Ù…Ø¯ÙŠÙ†Ø© (Ø§Ù„Ù…Ù†Ø§Ù…Ø©)">
          </div>
        </div>
        <div class="fld">
          <div class="lbl">ğŸ›¬ Ø¥Ù„Ù‰</div>
          <div class="input">
            <input id="destination" placeholder="Ø§ÙƒØªØ¨ ÙƒÙˆØ¯ Ø§Ù„Ù…Ø·Ø§Ø± (CAI) Ø£Ùˆ Ù…Ø¯ÙŠÙ†Ø© (Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©)">
          </div>
        </div>
        <div class="fld">
          <div class="lbl">ğŸŒ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù…ÙˆØ«ÙˆÙ‚</div>
          <div class="input">
            <select id="provider">
              <option value="google" selected>Google Flights (Ø¹Ø±Ø¨ÙŠ)</option>
              <option value="skyscanner">Skyscanner (Ø¹Ø±Ø¨ÙŠ)</option>
              <option value="kayak">KAYAK (Ø¹Ø±Ø¨ÙŠ)</option>
              <option value="wego">Wego (Ø¹Ø±Ø¨ÙŠ)</option>
              <option value="kiwi">Kiwi.com (Ø¹Ø±Ø¨ÙŠ)</option>
              <option value="expedia">Expedia</option>
            </select>
          </div>
        </div>
        <button class="cta" type="submit">ğŸ” Ø§Ø¨Ø­Ø«</button>
      </form>
    </div>
  </header>

  <main class="container">
    <section id="resultInfo" class="card" style="display:none">
      <h3 style="margin:0 0 6px 0">ØªÙ… ÙØªØ­ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙÙŠ ØªØ¨ÙˆÙŠØ¨ Ø¬Ø¯ÙŠØ¯</h3>
      <p id="summary" class="meta">â€”</p>
      <a id="openedLink" class="link" href="#" target="_blank" rel="noopener">Ø§ÙØªØ­ Ø§Ù„Ø±Ø§Ø¨Ø· ÙŠØ¯ÙˆÙŠÙ‹Ø§ (ÙÙŠ Ø­Ø§Ù„ Ù…Ù†Ø¹ Ø§Ù„Ù†ÙˆØ§ÙØ° Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø©)</a>
    </section>

    <footer>
      <div class="credit">
        <span>Ø¨Ø±Ù…Ø¬Ø© ÙˆØªØ·ÙˆÙŠØ±: <a href="https://api.whatsapp.com/send/?phone=97333375858&text&type=phone_number&app_absent=0&wame_ctl=1" target="_blank" rel="noopener">ÙØ§Ø¶Ù„ Ø§Ù„Ø±ÙŠØ³</a></span>
      </div>
    </footer>
  </main>

  <script>
    // ØªØ­ÙˆÙŠÙ„ Ø£Ø³Ù…Ø§Ø¡ Ø¹Ø±Ø¨ÙŠØ© Ø´Ø§Ø¦Ø¹Ø© Ø¥Ù„Ù‰ Ø£ÙƒÙˆØ§Ø¯ IATA Ù„ØªØ³Ù‡ÙŠÙ„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„
    const AR_MAP = {
      'Ø§Ù„Ù…Ù†Ø§Ù…Ø©':'BAH','Ø§Ù„Ø¨Ø­Ø±ÙŠÙ†':'BAH','Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©':'CAI','Ø§Ù„Ø±ÙŠØ§Ø¶':'RUH','Ø¬Ø¯Ø©':'JED','Ø§Ù„Ø¯Ù…Ø§Ù…':'DMM',
      'Ø¯Ø¨ÙŠ':'DXB','Ø£Ø¨ÙˆØ¸Ø¨ÙŠ':'AUH','Ø§Ù„Ø´Ø§Ø±Ù‚Ø©':'SHJ','Ø§Ù„Ø¯ÙˆØ­Ø©':'DOH','Ø§Ù„ÙƒÙˆÙŠØª':'KWI','Ù…Ø³Ù‚Ø·':'MCT',
      'Ø¹Ù…Ù‘Ø§Ù†':'AMM','Ø¨ÙŠØ±ÙˆØª':'BEY','Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„':'IST','Ø·Ø±Ø§Ø¨Ø²ÙˆÙ†':'TZX','Ø£Ù†Ø·Ø§Ù„ÙŠØ§':'AYT','ØªØ¨Ù„ÙŠØ³ÙŠ':'TBS',
      'Ø¨Ø§ØªÙˆÙ…ÙŠ':'BUS','Ø¨Ø§ÙƒÙˆ':'GYD','Ø¨Ø§Ø±ÙŠØ³':'CDG','Ù„Ù†Ø¯Ù†':'LHR','Ù…ÙŠÙ„Ø§Ù†Ùˆ':'MXP','Ø±ÙˆÙ…Ø§':'FCO',
      'Ø£Ø«ÙŠÙ†Ø§':'ATH','Ø¨Ø±Ø´Ù„ÙˆÙ†Ø©':'BCN','Ù…Ø¯Ø±ÙŠØ¯':'MAD','Ø²ÙŠÙˆØ±Ø®':'ZRH','Ø¬Ù†ÙŠÙ':'GVA'
    };

    function parsePlace(v){
      if(!v) return '';
      v=v.trim();
      if(AR_MAP[v]) return AR_MAP[v];
      const sep = v.includes('â€”') ? 'â€”' : '-';
      const head=(v.split(sep)[0]||'').trim();
      if(head.length===3) return head.toUpperCase();
      return v.toUpperCase();
    }

    // Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø±Ø§Ø¨Ø· Ù„ÙƒÙ„ Ù…ÙˆÙ‚Ø¹ Ù…ÙˆØ«ÙˆÙ‚
    function buildURL(provider, origin, destination){
      switch(provider){
        case 'google':
          return `https://www.google.com/travel/flights?hl=ar&q=${encodeURIComponent(`flights from ${origin} to ${destination}`)}`;
        case 'skyscanner':
          return `https://www.skyscanner.net/transport/flights/${origin}/${destination}/?adults=1&cabinclass=economy&locale=ar-SA`;
        case 'kayak':
          return `https://www.kayak.ae/flights/${origin}-${destination}?sort=price_a&lang=ar`;
        case 'wego':
          return `https://www.wego.ae/flights/${origin}-${destination}`;
        case 'kiwi':
          return `https://www.kiwi.com/ar/search/results/${origin}/${destination}/`;
        case 'expedia':
          return `https://www.expedia.com/Flights-Search?trip=oneway&leg1=from:${origin},to:${destination}&passengers=adults:1&mode=search`;
        default:
          return '#';
      }
    }

    function openSelected(){
      const origin = parsePlace(document.getElementById('origin').value);
      const destination = parsePlace(document.getElementById('destination').value);
      const provider = document.getElementById('provider').value;

      if(!origin||!destination){
        alert('Ø±Ø¬Ø§Ø¡Ù‹ Ø£Ø¯Ø®Ù„ "Ù…Ù†" Ùˆ"Ø¥Ù„Ù‰" (Ø±Ù…Ø² Ù…Ø·Ø§Ø± Ù…Ø«Ù„ BAH/CAI Ø£Ùˆ Ø§Ø³Ù… Ù…Ø¯ÙŠÙ†Ø© Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠ).');
        return;
      }

      const url = buildURL(provider, origin, destination);

      // Ø§ÙØªØ­ Ù…Ø¨Ø§Ø´Ø±Ø© ÙÙŠ ØªØ¨ÙˆÙŠØ¨ Ø¬Ø¯ÙŠØ¯
      const win = window.open(url, '_blank', 'noopener');
      // Ø£Ø¸Ù‡Ø± Ø£ÙŠØ¶Ø§Ù‹ Ø±Ø§Ø¨Ø·Ø§Ù‹ Ø§Ø­ØªÙŠØ§Ø·ÙŠØ§Ù‹ Ù„Ùˆ Ù…Ù†Ø¹ Ø§Ù„Ù…ØªØµÙØ­ Ø§Ù„Ù†ÙˆØ§ÙØ° Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø©
      const info = document.getElementById('resultInfo');
      const summary = document.getElementById('summary');
      const openedLink = document.getElementById('openedLink');
      info.style.display='block';
      summary.textContent = `Ø§Ù„Ù…ÙˆÙ‚Ø¹: ${document.querySelector('#provider option:checked').textContent} â€” Ø§Ù„Ù…Ø³Ø§Ø±: ${origin} â†’ ${destination}`;
      openedLink.href = url;

      if(!win){
        // Ø¨Ø¹Ø¶ Ø§Ù„Ù…ØªØµÙØ­Ø§Øª ØªÙ…Ù†Ø¹ Ø§Ù„ÙØªØ­ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ â€” Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ¶ØºØ· Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ
        alert('ØªÙ… ØªØ¬Ù‡ÙŠØ² Ø§Ù„Ø±Ø§Ø¨Ø· â€” Ø§Ø¶ØºØ· "Ø§ÙØªØ­ Ø§Ù„Ø±Ø§Ø¨Ø· ÙŠØ¯ÙˆÙŠÙ‹Ø§" Ø¥Ø°Ø§ Ù„Ù… ÙŠÙÙØªØ­ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§.');
      }
    }

    // Ù‚ÙŠÙ… Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù„Ù„ØªØ¬Ø±Ø¨Ø©
    (function init(){
      document.getElementById('origin').value='BAH â€” Ø§Ù„Ù…Ù†Ø§Ù…Ø©';
      document.getElementById('destination').value='CAI â€” Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©';
    })();
  </script>
</body>
</html>
