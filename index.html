<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ุชุฐูุฑุชู | ูุงุฑู ุฃุณุนุงุฑ ุงูุชุฐุงูุฑ</title>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#f9fafb; --card:#ffffff; --ink:#0f172a; --muted:#6b7280; --line:#e5e7eb;
      --brand:#0ea5e9; --brand-2:#0284c7; --shadow:0 12px 30px rgba(2,132,199,.12);
      --radius:18px; --ring:0 0 0 3px rgba(14,165,233,.25);
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--ink);font-family:'Cairo',sans-serif}
    header{background:#fff;border-bottom:1px solid var(--line);position:sticky;top:0;z-index:10}
    .container{max-width:980px;margin:auto;padding:16px}
    .logo{font-size:28px;font-weight:900;color:#0ea5e9}
    /* ุงูุจุญุซ ุงูุนููุฏู */
    form.search{display:grid;gap:12px;margin-top:16px}
    .fld{background:var(--card);border:2px solid #e5e7eb;border-radius:18px;padding:14px 16px;box-shadow:var(--shadow)}
    .fld:focus-within{border-color:var(--brand);box-shadow:var(--shadow),var(--ring)}
    .lbl{font-size:13px;color:var(--muted);margin-bottom:6px}
    select,input{width:100%;border:0;outline:none;background:transparent;font-size:18px;padding:8px 0;color:var(--ink)}
    .row2{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .cta{width:100%;background:linear-gradient(180deg,var(--brand),var(--brand-2));color:#fff;border:0;border-radius:18px;padding:16px 18px;font-weight:900;cursor:pointer;font-size:18px;box-shadow:var(--shadow)}
    .cta:hover{filter:brightness(.98)}
    /* ุนุฑุถ ุฑุงุจุท ุจุฏูู ุนูุฏ ููุน ุงูููุงูุฐ ุงูููุจุซูุฉ */
    .card{margin:14px 0;background:#fff;border:1px solid var(--line);border-radius:18px;padding:14px}
    .meta{color:#6b7280;font-size:13px}
    .link{display:inline-block;margin-top:8px;background:#10b981;color:#062a24;padding:10px 12px;border-radius:12px;font-weight:900;text-decoration:none}
  </style>
</head>
<body>
  <header>
    <div class="container">
      <div class="logo">โ๏ธ ุชุฐูุฑุชู</div>

      <!-- ูู ุฃุนูู ูุฃุณูู: ูู / ุฅูู / ุชุงุฑูุฎ ุงูุฐูุงุจ ูุงูุนูุฏุฉ (ูุฏูู) / ุงููููุน / ุงุจุญุซ -->
      <form class="search" onsubmit="event.preventDefault(); openSelected();">
        <!-- ูู -->
        <div class="fld">
          <div class="lbl">๐ซ ูู (ุงูุฏููุฉ/ุงููุฏููุฉ)</div>
          <select id="origin">
            <optgroup label="ุงูุฏูู ุงูุนุฑุจูุฉ">
              <option value="CAI">ูุตุฑ - ุงููุงูุฑุฉ (CAI)</option>
              <option value="RUH">ุงูุณุนูุฏูุฉ - ุงูุฑูุงุถ (RUH)</option>
              <option value="JED">ุงูุณุนูุฏูุฉ - ุฌุฏุฉ (JED)</option>
              <option value="DMM">ุงูุณุนูุฏูุฉ - ุงูุฏูุงู (DMM)</option>
              <option value="DXB">ุงูุฅูุงุฑุงุช - ุฏุจู (DXB)</option>
              <option value="AUH">ุงูุฅูุงุฑุงุช - ุฃุจูุธุจู (AUH)</option>
              <option value="SHJ">ุงูุฅูุงุฑุงุช - ุงูุดุงุฑูุฉ (SHJ)</option>
              <option value="DOH">ูุทุฑ - ุงูุฏูุญุฉ (DOH)</option>
              <option value="KWI">ุงููููุช - ุงููููุช (KWI)</option>
              <option value="MCT">ุนููุงู - ูุณูุท (MCT)</option>
              <option value="BAH" selected>ุงูุจุญุฑูู - ุงูููุงูุฉ (BAH)</option>
              <option value="AMM">ุงูุฃุฑุฏู - ุนููุงู (AMM)</option>
              <option value="BEY">ูุจูุงู - ุจูุฑูุช (BEY)</option>
              <option value="CMN">ุงููุบุฑุจ - ุงูุฏุงุฑ ุงูุจูุถุงุก (CMN)</option>
              <option value="ALG">ุงูุฌุฒุงุฆุฑ - ุงูุฌุฒุงุฆุฑ (ALG)</option>
              <option value="TUN">ุชููุณ - ุชููุณ (TUN)</option>
              <option value="MJI">ููุจูุง - ุทุฑุงุจูุณ (MJI)</option>
              <option value="KRT">ุงูุณูุฏุงู - ุงูุฎุฑุทูู (KRT)</option>
              <option value="SAH">ุงูููู - ุตูุนุงุก (SAH)</option>
              <option value="DAM">ุณูุฑูุง - ุฏูุดู (DAM)</option>
              <option value="BGW">ุงูุนุฑุงู - ุจุบุฏุงุฏ (BGW)</option>
              <option value="NKC">ููุฑูุชุงููุง - ููุงูุดูุท (NKC)</option>
            </optgroup>
            <optgroup label="ูุฌูุงุช ุณูุงุญูุฉ ุฃุฌูุจูุฉ">
              <option value="IST">ุชุฑููุง - ุฅุณุทูุจูู (IST)</option>
              <option value="TZX">ุชุฑููุง - ุทุฑุงุจุฒูู (TZX)</option>
              <option value="AYT">ุชุฑููุง - ุฃูุทุงููุง (AYT)</option>
              <option value="CDG">ูุฑูุณุง - ุจุงุฑูุณ (CDG)</option>
              <option value="LHR">ุจุฑูุทุงููุง - ููุฏู (LHR)</option>
              <option value="MXP">ุฅูุทุงููุง - ูููุงูู (MXP)</option>
              <option value="FCO">ุฅูุทุงููุง - ุฑููุง (FCO)</option>
              <option value="ATH">ุงููููุงู - ุฃุซููุง (ATH)</option>
              <option value="BCN">ุฅุณุจุงููุง - ุจุฑุดูููุฉ (BCN)</option>
              <option value="MAD">ุฅุณุจุงููุง - ูุฏุฑูุฏ (MAD)</option>
              <option value="GVA">ุณููุณุฑุง - ุฌููู (GVA)</option>
              <option value="ZRH">ุณููุณุฑุง - ุฒููุฑุฎ (ZRH)</option>
              <option value="AMS">ููููุฏุง - ุฃูุณุชุฑุฏุงู (AMS)</option>
              <option value="FRA">ุฃููุงููุง - ูุฑุงููููุฑุช (FRA)</option>
              <option value="MUC">ุฃููุงููุง - ููููุฎ (MUC)</option>
              <option value="VIE">ุงูููุณุง - ููููุง (VIE)</option>
              <option value="PRG">ุชุดูู - ุจุฑุงุบ (PRG)</option>
              <option value="BUD">ุงููุฌุฑ - ุจูุฏุงุจุณุช (BUD)</option>
              <option value="TBS">ุฌูุฑุฌูุง - ุชุจููุณู (TBS)</option>
              <option value="BUS">ุฌูุฑุฌูุง - ุจุงุชููู (BUS)</option>
              <option value="GYD">ุฃุฐุฑุจูุฌุงู - ุจุงูู (GYD)</option>
              <option value="MLE">ุงููุงูุฏูู - ูุงููู (MLE)</option>
              <option value="BKK">ุชุงููุงูุฏ - ุจุงูููู (BKK)</option>
              <option value="KUL">ูุงููุฒูุง - ููุงูุงููุจูุฑ (KUL)</option>
              <option value="SIN">ุณูุบุงููุฑุฉ (SIN)</option>
            </optgroup>
          </select>
        </div>

        <!-- ุฅูู -->
        <div class="fld">
          <div class="lbl">๐ฌ ุฅูู (ุงูุฏููุฉ/ุงููุฏููุฉ)</div>
          <select id="destination">
            <!-- ููุณ ุงูููุงุฆู -->
            <optgroup label="ุงูุฏูู ุงูุนุฑุจูุฉ">
              <option value="CAI" selected>ูุตุฑ - ุงููุงูุฑุฉ (CAI)</option>
              <option value="RUH">ุงูุณุนูุฏูุฉ - ุงูุฑูุงุถ (RUH)</option>
              <option value="JED">ุงูุณุนูุฏูุฉ - ุฌุฏุฉ (JED)</option>
              <option value="DMM">ุงูุณุนูุฏูุฉ - ุงูุฏูุงู (DMM)</option>
              <option value="DXB">ุงูุฅูุงุฑุงุช - ุฏุจู (DXB)</option>
              <option value="AUH">ุงูุฅูุงุฑุงุช - ุฃุจูุธุจู (AUH)</option>
              <option value="SHJ">ุงูุฅูุงุฑุงุช - ุงูุดุงุฑูุฉ (SHJ)</option>
              <option value="DOH">ูุทุฑ - ุงูุฏูุญุฉ (DOH)</option>
              <option value="KWI">ุงููููุช - ุงููููุช (KWI)</option>
              <option value="MCT">ุนููุงู - ูุณูุท (MCT)</option>
              <option value="BAH">ุงูุจุญุฑูู - ุงูููุงูุฉ (BAH)</option>
              <option value="AMM">ุงูุฃุฑุฏู - ุนููุงู (AMM)</option>
              <option value="BEY">ูุจูุงู - ุจูุฑูุช (BEY)</option>
              <option value="CMN">ุงููุบุฑุจ - ุงูุฏุงุฑ ุงูุจูุถุงุก (CMN)</option>
              <option value="ALG">ุงูุฌุฒุงุฆุฑ - ุงูุฌุฒุงุฆุฑ (ALG)</option>
              <option value="TUN">ุชููุณ - ุชููุณ (TUN)</option>
              <option value="MJI">ููุจูุง - ุทุฑุงุจูุณ (MJI)</option>
              <option value="KRT">ุงูุณูุฏุงู - ุงูุฎุฑุทูู (KRT)</option>
              <option value="SAH">ุงูููู - ุตูุนุงุก (SAH)</option>
              <option value="DAM">ุณูุฑูุง - ุฏูุดู (DAM)</option>
              <option value="BGW">ุงูุนุฑุงู - ุจุบุฏุงุฏ (BGW)</option>
              <option value="NKC">ููุฑูุชุงููุง - ููุงูุดูุท (NKC)</option>
            </optgroup>
            <optgroup label="ูุฌูุงุช ุณูุงุญูุฉ ุฃุฌูุจูุฉ">
              <option value="IST">ุชุฑููุง - ุฅุณุทูุจูู (IST)</option>
              <option value="TZX">ุชุฑููุง - ุทุฑุงุจุฒูู (TZX)</option>
              <option value="AYT">ุชุฑููุง - ุฃูุทุงููุง (AYT)</option>
              <option value="CDG">ูุฑูุณุง - ุจุงุฑูุณ (CDG)</option>
              <option value="LHR">ุจุฑูุทุงููุง - ููุฏู (LHR)</option>
              <option value="MXP">ุฅูุทุงููุง - ูููุงูู (MXP)</option>
              <option value="FCO">ุฅูุทุงููุง - ุฑููุง (FCO)</option>
              <option value="ATH">ุงููููุงู - ุฃุซููุง (ATH)</option>
              <option value="BCN">ุฅุณุจุงููุง - ุจุฑุดูููุฉ (BCN)</option>
              <option value="MAD">ุฅุณุจุงููุง - ูุฏุฑูุฏ (MAD)</option>
              <option value="GVA">ุณููุณุฑุง - ุฌููู (GVA)</option>
              <option value="ZRH">ุณููุณุฑุง - ุฒููุฑุฎ (ZRH)</option>
              <option value="AMS">ููููุฏุง - ุฃูุณุชุฑุฏุงู (AMS)</option>
              <option value="FRA">ุฃููุงููุง - ูุฑุงููููุฑุช (FRA)</option>
              <option value="MUC">ุฃููุงููุง - ููููุฎ (MUC)</option>
              <option value="VIE">ุงูููุณุง - ููููุง (VIE)</option>
              <option value="PRG">ุชุดูู - ุจุฑุงุบ (PRG)</option>
              <option value="BUD">ุงููุฌุฑ - ุจูุฏุงุจุณุช (BUD)</option>
              <option value="TBS">ุฌูุฑุฌูุง - ุชุจููุณู (TBS)</option>
              <option value="BUS">ุฌูุฑุฌูุง - ุจุงุชููู (BUS)</option>
              <option value="GYD">ุฃุฐุฑุจูุฌุงู - ุจุงูู (GYD)</option>
              <option value="MLE">ุงููุงูุฏูู - ูุงููู (MLE)</option>
              <option value="BKK">ุชุงููุงูุฏ - ุจุงูููู (BKK)</option>
              <option value="KUL">ูุงููุฒูุง - ููุงูุงููุจูุฑ (KUL)</option>
              <option value="SIN">ุณูุบุงููุฑุฉ (SIN)</option>
            </optgroup>
          </select>
        </div>

        <!-- ุงูุชูุงุฑูุฎ (ุฅุฏุฎุงู ูุฏูู) -->
        <div class="row2">
          <div class="fld">
            <div class="lbl">๐ ุชุงุฑูุฎ ุงูุฐูุงุจ (ูุซุงู: 2025-9-3)</div>
            <input id="dep" placeholder="YYYY-M-D (ุงุฎุชูุงุฑู)">
          </div>
          <div class="fld">
            <div class="lbl">โฉ๏ธ ุชุงุฑูุฎ ุงูุนูุฏุฉ (ูุซุงู: 2025-9-20)</div>
            <input id="ret" placeholder="YYYY-M-D (ุงุฎุชูุงุฑู)">
          </div>
        </div>

        <!-- ุงููููุน -->
        <div class="fld">
          <div class="lbl">๐ ุงููููุน</div>
          <select id="provider">
            <option value="google" selected>Google Flights (ุนุฑุจู)</option>
            <option value="skyscanner">Skyscanner (ุนุฑุจู)</option>
            <option value="kayak">KAYAK (ุนุฑุจู)</option>
            <option value="wego">Wego (ุนุฑุจู)</option>
            <option value="kiwi">Kiwi.com (ุนุฑุจู)</option>
            <option value="expedia">Expedia</option>
          </select>
        </div>

        <!-- ุงุจุญุซ -->
        <button class="cta" type="submit">๐ ุงุจุญุซ</button>
      </form>

      <!-- ุฅุดุนุงุฑ ูุชุญ ุงูุฑุงุจุท -->
      <div id="openInfo" class="card" style="display:none">
        <div class="meta" id="openSummary">โ</div>
        <a class="link" id="openLink" target="_blank" rel="noopener">ุงูุชุญ ุงูุฑุงุจุท ูุฏูููุง</a>
      </div>
    </div>
  </header>

  <script>
    function parseDateFlexible(v){
      if(!v) return null; // ุงุฎุชูุงุฑู
      v = v.replace(/[\\/.\\s]+/g,'-').trim(); // ูุณูุญ ุจู 2025/9/3 ุฃู 2025 9 3
      const parts = v.split('-').map(x=>x.trim()).filter(Boolean);
      if(parts.length < 3) return null;
      let [y,m,d] = parts;
      if(!/^\\d{4}$/.test(y)) return null;
      m = String(parseInt(m,10));
      d = String(parseInt(d,10));
      if(!(+m>=1 && +m<=12)) return null;
      if(!(+d>=1 && +d<=31)) return null;
      // ุทุจุงุนุฉ ุจุตูุบุฉ ูุธุงููุฉ
      return `${y}-${m.padStart(2,'0')}-${d.padStart(2,'0')}`;
    }

    function buildURL(provider, o, d, dep, ret){
      const hasDep = !!dep, hasRet = !!ret;
      switch(provider){
        case 'google': {
          // ุฌูุฌู ููุจู ุตูุบุฉ ูุตูุฉ ุฏุงุฎู q
          let q = `flights from ${o} to ${d}`;
          if(hasDep) q += ` ${dep}`;
          if(hasRet) q += ` return ${ret}`;
          q += ` 1 adult economy`;
          return `https://www.google.com/travel/flights?hl=ar&q=${encodeURIComponent(q)}`;
        }
        case 'kayak': {
          // Kayak ูุฏุนู ISO ูู ุงููุณุงุฑ
          if(hasDep && hasRet) return `https://www.kayak.ae/flights/${o}-${d}/${dep}/${ret}?sort=price_a&lang=ar`;
          if(hasDep)          return `https://www.kayak.ae/flights/${o}-${d}/${dep}?sort=price_a&lang=ar`;
          return `https://www.kayak.ae/flights/${o}-${d}?sort=price_a&lang=ar`;
        }
        case 'kiwi': {
          // Kiwi ูุฏุนู ISO ูู ุงููุณุงุฑ
          if(hasDep && hasRet) return `https://www.kiwi.com/ar/search/results/${o}/${d}/${dep}/${ret}/`;
          if(hasDep)          return `https://www.kiwi.com/ar/search/results/${o}/${d}/${dep}/`;
          return `https://www.kiwi.com/ar/search/results/${o}/${d}/`;
        }
        case 'expedia': {
          // Expedia ุนุจุฑ ุจุงุฑุงูุชุฑุงุช (ุชูุฑูุจูุฉ ุชููู ูููุชุญ)
          const base = 'https://www.expedia.com/Flights-Search';
          if(hasDep && hasRet){
            return `${base}?trip=roundtrip&leg1=from:${o},to:${d},departure:${dep}TANYT&leg2=from:${d},to:${o},departure:${ret}TANYT&passengers=adults:1&mode=search`;
          }
          if(hasDep){
            return `${base}?trip=oneway&leg1=from:${o},to:${d},departure:${dep}TANYT&passengers=adults:1&mode=search`;
          }
          return `${base}?trip=oneway&leg1=from:${o},to:${d}&passengers=adults:1&mode=search`;
        }
        case 'skyscanner': {
          // ุชูุฑูุฑ ุจุฏูู ุชุงุฑูุฎ (ุฃููุงุท ุงูุชูุงุฑูุฎ ูุฏููู ูุชุนุฏุฏุฉ ุญุณุจ ุงูููุทูุฉ)
          return `https://www.skyscanner.net/transport/flights/${o}/${d}/?adults=1&cabinclass=economy&locale=ar-SA`;
        }
        case 'wego': {
          // ุชูุฑูุฑ ุจุฏูู ุชุงุฑูุฎ (ุฑูุงุจุท ุนุงูุฉ ุชุนูู ุณุฑูุนูุง)
          return `https://www.wego.ae/flights/${o}-${d}`;
        }
        default: return '#';
      }
    }

    function openSelected(){
      const o = document.getElementById('origin').value;
      const d = document.getElementById('destination').value;
      const provider = document.getElementById('provider').value;
      const dep = parseDateFlexible(document.getElementById('dep').value);
      const ret = parseDateFlexible(document.getElementById('ret').value);

      // ุฅู ุฃุฏุฎู ุงููุณุชุฎุฏู ูุตูุง ุบูุฑ ุตุงูุญ ูู ุงูุชุงุฑูุฎ ูุชุฌุงููู ุจุฏู ุฅููุงูู
      const url = buildURL(provider, o, d, dep, ret);

      // ุงูุชุญ ูู ุชุจููุจ ุฌุฏูุฏ + ุนุฑุถ ุฑุงุจุท ุงุญุชูุงุทู
      const win = window.open(url, '_blank', 'noopener');
      const info = document.getElementById('openInfo');
      const link = document.getElementById('openLink');
      const sum  = document.getElementById('openSummary');
      info.style.display='block';
      sum.textContent = `ุงููููุน: ${document.querySelector('#provider option:checked').textContent} โ ุงููุณุงุฑ: ${o} โ ${d}`
        + (dep? ` โ ุงูุฐูุงุจ: ${dep}`:'') + (ret? ` โ ุงูุนูุฏุฉ: ${ret}`:'');
      link.href = url;

      if(!win){ alert('ุฌุงูุฒ! ุฅุฐุง ูู ูููุชุญ ุชููุงุฆููุงุ ุงุถุบุท "ุงูุชุญ ุงูุฑุงุจุท ูุฏูููุง".'); }
    }
  </script>
</body>
</html>
