<!DOCTYPE html><html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>تذكرتك | أرخص التذاكر</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;800;900&display=swap" rel="stylesheet">
  <style>
    :root{
      --ink:#0f172a; --muted:#64748b; --line:#e5e7eb; --bg:#f8fafc; --card:#ffffff;
      --brand:#0ea5e9; --brand-2:#0284c7; --radius:16px; --ring:0 0 0 3px rgba(14,165,233,.25);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:var(--bg);color:var(--ink);font-family:'Cairo',system-ui,Segoe UI,Roboto,Arial,sans-serif}header{background:#fff;border-bottom:1px solid var(--line);position:sticky;top:0;z-index:20}
.container{max-width:900px;margin:0 auto;padding:14px}
.row{display:flex;align-items:center;gap:12px}
.logo{width:40px;height:40px;border-radius:12px;display:grid;place-items:center;background:radial-gradient(circle at 30% 30%, #7dd3fc, #0ea5e9);color:#fff;font-weight:900}
.title{font-size:22px;font-weight:900}

.searchbar{margin:12px auto 0;display:grid;gap:10px;grid-template-columns:1fr 1fr auto}
.fld{position:relative;background:var(--card);border:1px solid var(--line);border-radius:14px;padding:8px 10px}
.fld label{display:block;font-size:12px;color:var(--muted)}
.fld input{width:100%;border:0;outline:none;background:transparent;padding:6px 2px;font-size:15px;color:var(--ink)}
.btn{background:var(--brand);color:#fff;border:0;border-radius:12px;padding:12px 16px;font-weight:800;cursor:pointer}
.btn:hover{background:var(--brand-2)}

/* Dropdown panel */
.dropdown{position:absolute;inset-inline:0;top:100%;margin-top:6px;background:#fff;border:1px solid var(--line);border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.08);max-height:340px;overflow:auto;display:none}
.dropdown.open{display:block}
.section-title{position:sticky;top:0;background:#fff;font-size:12px;color:var(--muted);padding:8px 10px;border-bottom:1px solid var(--line)}
.item{padding:10px 12px;cursor:pointer;border-bottom:1px dashed #f1f5f9}
.item:hover{background:#f8fafc}
.code{font-weight:900;color:#0ea5e9;margin-inline-start:6px}

main{padding:16px 0}
.grid{display:grid;gap:14px}
.card{background:var(--card);border:1px solid var(--line);border-radius:var(--radius);padding:14px}

/* Results */
.results{display:flex;flex-direction:column;gap:10px}
.ticket{border:1px solid var(--line);border-radius:14px;padding:12px;background:#fff;display:flex;justify-content:space-between;align-items:center;gap:8px}
.meta{color:var(--muted);font-size:13px}
.price{font-weight:900}
.providers{display:grid;gap:10px;margin-top:10px}
@media(min-width:700px){.providers{grid-template-columns:repeat(3,1fr)}}
.prov{border:1px solid var(--line);border-radius:14px;padding:12px;background:#fff}
.prov a{display:inline-block;margin-top:8px;text-decoration:none;background:var(--brand);color:#fff;padding:8px 12px;border-radius:10px;font-weight:700}

footer{margin-top:18px;border-top:1px dashed var(--line);padding:14px 0}
.credit{display:flex;gap:8px;align-items:center;flex-wrap:wrap;color:var(--muted)}
.credit a{color:var(--brand-2);font-weight:800;text-decoration:none}
.credit a:hover{text-decoration:underline}

.small{font-size:12px;color:var(--muted)}

  </style>
</head>
<body>
  <header>
    <div class="container">
      <div class="row">
        <div class="logo">✈️</div>
        <div class="title">تذكرتك</div>
      </div><!-- From/To only with dropdowns -->
  <form id="searchForm" class="searchbar" onsubmit="event.preventDefault(); buildLinks();">
    <div class="fld" id="fromField">
      <label for="origin">من</label>
      <input id="origin" placeholder="اختر دولة أو مطار" autocomplete="off" onfocus="openDrop('from')" oninput="filterDrop('from')">
      <div class="dropdown" id="fromDrop"></div>
    </div>
    <div class="fld" id="toField">
      <label for="destination">إلى</label>
      <input id="destination" placeholder="اختر مطار" autocomplete="off" onfocus="openDrop('to')" oninput="filterDrop('to')">
      <div class="dropdown" id="toDrop"></div>
    </div>
    <button class="btn" type="submit">اعرض أرخص التذاكر</button>
  </form>
</div>

  </header>  <main class="container">
    <!-- قائمة الدول (كاملة) -->
    <section class="card" id="countriesSection">
      <h4 style="margin:0 0 8px 0">الدول</h4>
      <div style="display:flex;gap:8px;align-items:center;flex-wrap:wrap;margin-bottom:8px">
        <input id="countrySearch" placeholder="ابحث عن دولة..." style="flex:1;border:1px solid var(--line);border-radius:12px;padding:10px">
        <button class="btn" type="button" onclick="resetCountries()">إظهار الكل</button>
      </div>
      <div id="countriesGrid" style="display:grid;gap:8px;grid-template-columns:repeat(auto-fill,minmax(150px,1fr))"></div>
      <p class="small">ملاحظة: عرض الدول عام. للحجز نوصي باختيار مطار محدد من الحقول بالأعلى لعرض جميع الروابط والفلاتر. عند اختيار دولة فقط سنعرض رابط Google Flights للاستكشاف.</p>
    </section><section class="card">
  <h4 style="margin:0 0 6px 0">التذاكر (من الأرخص إلى الأعلى)</h4>
  <p id="summary" class="small">أدخل "من" و"إلى" بالأعلى ثم اضغط الزر.</p>
  <div id="tickets" class="results"></div>

  <div class="providers" id="providers"></div>
  <p class="small">لجلب أسعار حقيقية داخل الصفحة يمكنك استخدام <strong>Kiwi Tequila</strong> (مجاني بمفتاح API) أو <strong>Amadeus Self‑Service</strong> (خطة مجانية محدودة). انظر التعليقات داخل الكود.</p>
</section>

<footer>
  <div class="credit">
    <span>برمجة وتطوير: <a href="https://api.whatsapp.com/send/?phone=97333375858&text&type=phone_number&app_absent=0&wame_ctl=1" target="_blank" rel="noopener">فاضل الريس</a></span>
  </div>
</footer>

  </main>  <script>
    // ===== الدول (قائمة كاملة بالإنجليزية حالياً) =====
    const COUNTRIES = [
      "Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo (Congo-Brazzaville)","Costa Rica","Côte d’Ivoire","Croatia","Cuba","Cyprus","Czechia","Democratic Republic of the Congo","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Korea","North Macedonia","Norway","Oman","Pakistan","Palau","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","São Tomé and Príncipe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"
    ];

    const countriesGrid = document.getElementById('countriesGrid');
    const countrySearch = document.getElementById('countrySearch');

    function renderCountries(list){
      countriesGrid.innerHTML='';
      list.forEach(name=>{
        const chip=document.createElement('button');
        chip.className='btn';
        chip.type='button';
        chip.style.background='#fff'; chip.style.color='var(--ink)'; chip.style.border='1px solid var(--line)'; chip.style.fontWeight='700'; chip.style.padding='10px 12px';
        chip.textContent=name;
        chip.onclick=()=>{ destination.value = name; document.getElementById('providers').innerHTML=''; document.getElementById('tickets').innerHTML=''; buildLinks(); };
        countriesGrid.appendChild(chip);
      });
    }

    function resetCountries(){ countrySearch.value=''; renderCountries(COUNTRIES); }
    countrySearch.addEventListener('input', ()=>{
      const q=countrySearch.value.trim().toLowerCase();
      renderCountries(COUNTRIES.filter(c=>c.toLowerCase().includes(q)));
    });

    // ===== نهاية قسم الدول =====

    // (تكملة السكربت السابق: قواعد الاختيار، الروابط، ودمج API)
  </script></body>
</html>
