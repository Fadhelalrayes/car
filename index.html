<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Letterhead A4</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;800&display=swap" rel="stylesheet">
<style>
  :root{
    --gold:#C6A14A;
    --gold-soft:#ead89c;
    --black:#0b0f19;
    --ink:#111827;
    --muted:#6b7280;
    --paper:#ffffff;
    --stamp-ink:#111827;
  }
  *{box-sizing:border-box; -webkit-print-color-adjust:exact; print-color-adjust:exact}
  html,body{height:100%}
  body{margin:0; background:#fff; color:var(--ink); font-family:"Cairo",system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}

  /* ุชุฎุทูุท */
  .wrap{max-width:1100px; margin-inline:auto; padding:16px; display:grid; gap:16px; grid-template-columns:320px 1fr}
  @media (max-width:980px){ .wrap{grid-template-columns:1fr} }

  .card{background:#fff; border:1px solid #e5e7eb; border-radius:14px; box-shadow:0 10px 26px rgba(0,0,0,.06); overflow:hidden}
  .hd{padding:12px 14px; background:linear-gradient(90deg,var(--black),#1b2335); color:#fff; font-weight:800}
  .bd{padding:14px}

  label{display:block; font-size:13px; color:var(--muted); margin-bottom:6px}
  input,select,textarea{width:100%; padding:10px 12px; border:1px solid #e5e7eb; border-radius:10px; font-size:14px; background:#fff}
  textarea{min-height:140px; resize:vertical}
  .grid{display:grid; gap:10px}
  .g2{grid-template-columns:1fr 1fr}
  .g4{grid-template-columns:1fr 1fr 1fr 1fr}
  @media (max-width:640px){ .g2,.g4{grid-template-columns:1fr} }
  .row{display:flex; gap:8px; flex-wrap:wrap}
  .btn{border:0; border-radius:999px; padding:10px 16px; font-weight:700; cursor:pointer}
  .btn.primary{background:var(--gold); color:#000; box-shadow:0 8px 18px rgba(198,161,74,.25)}
  .btn.dark{background:var(--black); color:#fff}
  .btn.ghost{background:#f3f4f6}

  /* ุตูุญุฉ A4 (ุดุงุดุฉ + ุทุจุงุนุฉ) */
  .page-wrap{padding:8px}
  .page{
    width:210mm; height:297mm; margin-inline:auto; background:var(--paper); color:var(--ink);
    border:1px solid #e5e7eb; border-radius:16px; box-shadow:0 18px 48px rgba(0,0,0,.07);
    display:flex; flex-direction:column; position:relative; overflow:hidden;   /* ูููุน ุตูุญุงุช ุฅุถุงููุฉ */
  }
  @media (max-width:820px){ .page{width:100%; height:auto} }

  /* ุงูููุฏุฑ */
  .lh{
    background:linear-gradient(90deg, var(--black), #121828);
    color:#fff; padding:14px 18px; display:flex; align-items:center; justify-content:space-between;
    border-bottom:1px solid rgba(255,255,255,.08);
  }
  .brand{display:flex; align-items:center; gap:10px; min-width:0}
  .logo{
    width:36px; height:36px; border-radius:9px;
    background:linear-gradient(135deg, var(--gold), var(--gold-soft));
    color:#000; display:grid; place-items:center; font-weight:900; box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)
  }
  .brand-name{font-weight:800; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:260px}
  @media (max-width:480px){ .brand-name{max-width:180px} }

  /* ุดุฑูุท ุฐูุจู ุจุฃุณูู ุงูููุฏุฑ ูุน ุฃููููุงุช */
  .gold-line{
    position:relative; height:6px;
    background:linear-gradient(90deg, var(--gold-soft), var(--gold), #a6842a);
    display:flex; align-items:center; justify-content:flex-end; gap:10px; padding-inline:10mm;
  }
  .social-top{display:flex; gap:10px; align-items:center}
  .social-top .ico{display:flex; align-items:center; gap:6px; background:rgba(255,255,255,.9); border:1px solid #e5e7eb; border-radius:999px; padding:2px 6px; font-size:11px}
  .social-top svg{width:12px; height:12px}

  /* ุฌุณู ุงูุฎุทุงุจ */
  .doc{
    padding:18mm 18mm 0; display:flex; flex-direction:column; gap:10px; flex:1; overflow:hidden;
  }
  .meta{font-size:12px; color:var(--muted); display:flex; justify-content:space-between; border-bottom:1px dashed #e5e7eb; padding-bottom:8px}
  .title{margin:10px auto 6px; text-align:center; font-size:26px; font-weight:800; letter-spacing:.2px}
  .content{
    font-size:15px; line-height:1.9; text-align:justify; text-justify:inter-word;
    overflow:auto; /* ูุณูุญ ุจุงูุชูุฑูุฑ ุฏุงุฎู ุงูุตูุญุฉ ุฏูู ุตูุน ุตูุญุฉ ุซุงููุฉ */
  }

  /* ุงูุฎุชู + ูููุน ุฃุณูู ูุณุงุฑ ุฏุงุฎู ุงูุชุฐููู */
  .ft{
    margin-top:auto; padding:0 18mm 12mm; display:flex; align-items:flex-end; justify-content:space-between; gap:10px; position:relative;
    border-top:1px solid #e5e7eb;
  }
  .stamp-block{display:flex; flex-direction:column; gap:6px; align-items:flex-start}
  .stamp-box{
    width:45mm; min-height:20mm; padding:8px 10px; border-radius:9px;
    border:2.2px solid var(--stamp-ink); color:var(--stamp-ink);
    background:radial-gradient(circle at 30% 30%, rgba(0,0,0,.03), transparent 45%),
               repeating-linear-gradient(0deg, rgba(0,0,0,.02), rgba(0,0,0,.02) 2px, transparent 2px, transparent 4px);
    box-shadow:inset 0 0 0 1.2px rgba(255,255,255,.65), 0 6px 16px rgba(0,0,0,.05);
    transform:rotate(-1.3deg); opacity:.94; filter:saturate(1.04) contrast(1.02);
  }
  .stamp-name{font-weight:800; font-size:13px}
  .stamp-line{font-size:11px; direction:ltr; text-align:left}
  .site-under{font-size:11px; color:#374151}
  .site-under strong{font-weight:800}

  .contact-line{display:flex; gap:12px; flex-wrap:wrap; direction:ltr; color:#111; align-items:center}

  /* ุทุจุงุนุฉ ุตูุญุฉ ูุงุญุฏุฉ A4 */
  @page{ size:A4; margin:12mm }
  @media print{
    body{background:#fff}
    .wrap{display:block; padding:0; margin:0}
    #formCard{display:none !important}
    .wrap > :not(#previewCard){display:none !important}
    .page{
      border:none; border-radius:0; box-shadow:none;
      width:210mm !important; height:297mm !important; margin:0 auto !important; overflow:hidden !important;
    }
    .lh{ -webkit-print-color-adjust:exact; print-color-adjust:exact }
  }
</style>
</head>
<body>
  <div class="wrap">
    <!-- ุงููููุฐุฌ (ูุจุณูุท โ ุจุฏูู ุฑูุน ุตูุฑุฉ ุฎุชู) -->
    <section class="card" id="formCard">
      <div class="hd">ุฅุนุฏุงุฏุงุช ุงูุฎุทุงุจ</div>
      <div class="bd">
        <div class="grid">
          <div>
            <label>ุงุณู ุงูุดุฑูุฉ</label>
            <input id="company" type="text" placeholder="ูุซุงู: ุดุฑูุฉ ุงูุฃูู ููุชุฌุงุฑุฉ" />
          </div>

          <div class="grid g2">
            <div>
              <label>ุงูุฏููุฉ (ููุฏ)</label>
              <select id="countryCode">
                <option value="+973">๐ง๐ญ ุงูุจุญุฑูู (+973)</option>
                <option value="+966">๐ธ๐ฆ ุงูุณุนูุฏูุฉ (+966)</option>
                <option value="+971">๐ฆ๐ช ุงูุฅูุงุฑุงุช (+971)</option>
                <option value="+965">๐ฐ๐ผ ุงููููุช (+965)</option>
                <option value="+974">๐ถ๐ฆ ูุทุฑ (+974)</option>
                <option value="+968">๐ด๐ฒ ุนููุงู (+968)</option>
                <option value="+20">๐ช๐ฌ ูุตุฑ (+20)</option>
              </select>
            </div>
            <div>
              <label>ุฑูู ุงูุงุชุตุงู</label>
              <input id="phone" type="tel" placeholder="ูุซุงู: 3333 3333" />
            </div>
          </div>

          <div class="grid g2">
            <div>
              <label>ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
              <input id="email" type="email" placeholder="name@example.com" />
            </div>
            <div>
              <label>ุนููุงู ุงูุฑุณุงูุฉ (ูุชูุณุท ุงูุตูุญุฉ)</label>
              <input id="title" type="text" placeholder="ุนููุงู ุงูุฑุณุงูุฉ" />
            </div>
          </div>

          <div>
            <label>ูุญุชูู ุงูุฑุณุงูุฉ (ูุญุงุฐุงุฉ ุงูุฃุทุฑุงู)</label>
            <textarea id="content" placeholder="ุงูุชุจ ูุต ุงูุฑุณุงูุฉ ููุง..."></textarea>
          </div>

          <!-- ุณูุดูุงู ูููุตูุฉ -->
          <div class="grid g4">
            <div><label>Instagram</label><input id="ig" type="text" placeholder="@brand" /></div>
            <div><label>Twitter / X</label><input id="tw" type="text" placeholder="@brand" /></div>
            <div><label>Facebook</label><input id="fb" type="text" placeholder="/brand" /></div>
            <div><label>LinkedIn</label><input id="ln" type="text" placeholder="/company/brand" /></div>
          </div>

          <!-- ุจูุงูุงุช ุงูุฎุชู + ุงููููุน ุชุญุช ุงูุฎุชู -->
          <div class="grid g2">
            <div>
              <label>ุงุณู ุงูุดุฑูุฉ (ููุฎุชู)</label>
              <input id="stampName" type="text" placeholder="ุงุณู ุงูุดุฑูุฉ" />
            </div>
            <div>
              <label>ุงูุณุฌู ุงูุชุฌุงุฑู</label>
              <input id="cr" type="text" placeholder="CR / ุงูุณุฌู ุงูุชุฌุงุฑู" />
            </div>
          </div>
          <div class="grid g2">
            <div>
              <label>ุฑูู ุงูุงุชุตุงู (ููุฎุชู)</label>
              <input id="stampPhone" type="tel" placeholder="ุฑูู ุงูุงุชุตุงู" />
            </div>
            <div>
              <label>ุงุณู ุงููููุน (ูุธูุฑ ุชุญุช ุงูุฎุชู)</label>
              <input id="siteName" type="text" placeholder="example.com" />
            </div>
          </div>
          <div>
            <label>ุตูุฉ/ูุตู ูุตูุฑ ูููููุน (ุชุญุช ุงูุฎุชู)</label>
            <input id="siteTag" type="text" placeholder="ุฎุฏูุงุช ูุญููู ูุชูุงููุฉ" />
          </div>

          <div class="row">
            <button class="btn primary" id="applyBtn" type="button">ุชุทุจูู</button>
            <button class="btn dark" id="printBtn" type="button">ุทุจุงุนุฉ / PDF (A4 ุตูุญุฉ ูุงุญุฏุฉ)</button>
            <button class="btn ghost" id="resetBtn" type="button">ุฅุนุงุฏุฉ ุถุจุท</button>
          </div>
        </div>
      </div>
    </section>

    <!-- ุงููุนุงููุฉ/ุงูุทุจุงุนุฉ -->
    <section class="card" id="previewCard">
      <div class="bd page-wrap">
        <div class="page" id="page">
          <!-- ุงูููุฏุฑ -->
          <header class="lh">
            <div class="brand">
              <div class="logo">โ</div>
              <div class="brand-name" id="brandName">ุงุณู ุงูุดุฑูุฉ</div>
            </div>
            <div></div>
          </header>
          <!-- ุฎุท ุฐูุจู ูุน ุฃููููุงุช -->
          <div class="gold-line">
            <div class="social-top" id="socialTop"></div>
          </div>

          <!-- ุงูุฌุณู -->
          <main class="doc">
            <div class="meta">
              <div>ุงูุชุงุฑูุฎ: <span id="today"></span></div>
              <div>ูุฑุฌุน: <span id="ref">โ</span></div>
            </div>

            <h1 class="title" id="titleOut">ุนููุงู ุงูุฑุณุงูุฉ</h1>
            <article class="content" id="contentOut">ุงูุชุจ ูุต ุงูุฑุณุงูุฉ ูู ุงูุญูููุ ูุณูุธูุฑ ููุง ุจูุญุงุฐุงุฉ ุงูุฃุทุฑุงู.</article>
          </main>

          <!-- ุงูุชุฐููู: ุงูุฎุชู ูุณุงุฑุ ุงูุชูุงุตู ูููู -->
          <footer class="ft">
            <div class="stamp-block">
              <div class="stamp-box" id="stampBox">
                <div class="stamp-name" id="stampNameOut">ุงุณู ุงูุดุฑูุฉ</div>
                <div class="stamp-line" id="crOut">CR: โ</div>
                <div class="stamp-line" id="stampPhoneOut">Tel: โ</div>
              </div>
              <div class="site-under" id="siteUnder"><strong>example.com</strong> โ ุฎุฏูุงุช ูุญููู ูุชูุงููุฉ</div>
            </div>

            <div class="contact-line">
              <span id="emailOut">name@example.com</span>
              <span>โข</span>
              <span id="phoneOut">+973 0000 0000</span>
            </div>
          </footer>
        </div>
      </div>
    </section>
  </div>

<script>
  // ุฅุฏุฎุงู
  const company = document.getElementById('company');
  const email = document.getElementById('email');
  const phone = document.getElementById('phone');
  const countryCode = document.getElementById('countryCode');
  const titleIn = document.getElementById('title');
  const contentIn = document.getElementById('content');
  const ig = document.getElementById('ig');
  const tw = document.getElementById('tw');
  const fb = document.getElementById('fb');
  const ln = document.getElementById('ln');
  const stampName = document.getElementById('stampName');
  const cr = document.getElementById('cr');
  const stampPhone = document.getElementById('stampPhone');
  const siteName = document.getElementById('siteName');
  const siteTag = document.getElementById('siteTag');

  // ุฅุฎุฑุงุฌ
  const brandName = document.getElementById('brandName');
  const emailOut = document.getElementById('emailOut');
  const phoneOut = document.getElementById('phoneOut');
  const titleOut = document.getElementById('titleOut');
  const contentOut = document.getElementById('contentOut');
  const stampNameOut = document.getElementById('stampNameOut');
  const crOut = document.getElementById('crOut');
  const stampPhoneOut = document.getElementById('stampPhoneOut');
  const siteUnder = document.getElementById('siteUnder');
  const socialTop = document.getElementById('socialTop');

  // ุงูููู
  const today = new Date();
  document.getElementById('today').textContent = today.toLocaleDateString('ar-EG');

  // SVG ุฃููููุงุช ุตุบูุฑุฉ
  const icons = {
    ig:'<svg viewBox="0 0 24 24" fill="#E1306C"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5Zm5 5a5 5 0 1 0 .001 10.001A5 5 0 0 0 12 7Zm6.5-.9a1.1 1.1 0 1 0 0 2.2 1.1 1.1 0 0 0 0-2.2Z"/><circle cx="12" cy="12" r="3.3"/></svg>',
    tw:'<svg viewBox="0 0 24 24" fill="#000"><path d="M13.7 10.6 21 2h-1.7l-6.2 7.4L8.2 2H2l7.6 11L2 22h1.7l6.6-7.8L15.8 22H22l-8.3-11.4Z"/></svg>',
    fb:'<svg viewBox="0 0 24 24" fill="#1877F2"><path d="M22 12a10 10 0 1 0-11.6 9.9v-7H7.7V12h2.7V9.7c0-2.7 1.6-4.2 4-4.2 1.2 0 2.4.2 2.4.2v2.6h-1.4c-1.3 0-1.7.8-1.7 1.6V12h2.9l-.46 2.9h-2.4v7A10 10 0 0 0 22 12"/></svg>',
    ln:'<svg viewBox="0 0 24 24" fill="#0A66C2"><path d="M4.98 3.5a2.5 2.5 0 1 1 0 5.001 2.5 2.5 0 0 1 0-5zM3 9h4v12H3zM9 9h3.8v1.6h.1c.5-.9 1.8-1.9 3.7-1.9 4 0 4.8 2.6 4.8 6v6H17v-5.3c0-1.3 0-3-1.9-3s-2.2 1.4-2.2 2.9V21H9z"/></svg>'
  };

  function fullPhone(){
    const cc = (countryCode.value || '').trim();
    const p = (phone.value || '').trim();
    return (cc && p) ? `${cc} ${p}` : (p || '');
  }

  function buildSocialTop(){
    socialTop.innerHTML = '';
    const arr = [
      {val: ig.value.trim(), key:'ig', label:'Instagram'},
      {val: tw.value.trim(), key:'tw', label:'Twitter'},
      {val: fb.value.trim(), key:'fb', label:'Facebook'},
      {val: ln.value.trim(), key:'ln', label:'LinkedIn'},
    ];
    arr.forEach(x=>{
      if(!x.val) return;
      const el = document.createElement('span');
      el.className = 'ico';
      el.innerHTML = icons[x.key] + '<span>'+ x.val + '</span>';
      socialTop.appendChild(el);
    });
  }

  function applyChanges(){
    brandName.textContent = company.value || 'ุงุณู ุงูุดุฑูุฉ';
    emailOut.textContent = email.value || 'name@example.com';
    phoneOut.textContent = fullPhone() || '+973 0000 0000';

    titleOut.textContent = titleIn.value || 'ุนููุงู ุงูุฑุณุงูุฉ';
    contentOut.textContent = contentIn.value || 'โ';

    // ุฎุชู
    stampNameOut.textContent = stampName.value || (company.value || 'ุงุณู ุงูุดุฑูุฉ');
    crOut.textContent = 'CR: ' + (cr.value || 'โ');
    stampPhoneOut.textContent = 'Tel: ' + (stampPhone.value || (fullPhone() || 'โ'));

    // ุชุญุช ุงูุฎุชู: ุงููููุน + ุตูุชู
    const sName = siteName.value.trim() || 'example.com';
    const sTag = siteTag.value.trim() || 'โ';
    siteUnder.innerHTML = `<strong>${sName}</strong>${sTag !== 'โ' ? ' โ ' + sTag : ''}`;

    // ุดุฑูุท ุงูุณูุดูุงู ุฃุนูู ุงูุตูุญุฉ
    buildSocialTop();
  }

  // ุชุญุฏูุซ ูุจุงุดุฑ
  [company,email,phone,countryCode,titleIn,contentIn,ig,tw,fb,ln,stampName,cr,stampPhone,siteName,siteTag]
    .forEach(el=> el.addEventListener('input', applyChanges));

  // ุทุจุงุนุฉ ูุถูููุฉ ุตูุญุฉ ูุงุญุฏุฉ
  function triggerPrint(){ applyChanges(); requestAnimationFrame(()=> setTimeout(()=>window.print(), 40)); }
  document.getElementById('applyBtn').addEventListener('click', applyChanges);
  document.getElementById('printBtn').addEventListener('click', triggerPrint);
  window.onbeforeprint = applyChanges;

  document.getElementById('resetBtn').addEventListener('click', ()=>{
    document.querySelectorAll('input[type="text"], input[type="email"], input[type="tel"]').forEach(i=>i.value='');
    [ig,tw,fb,ln,siteName,siteTag].forEach(i=>i.value='');
    applyChanges();
  });

  (document.fonts?.ready || Promise.resolve()).then(applyChanges);
  applyChanges();
</script>
</body>
</html>
